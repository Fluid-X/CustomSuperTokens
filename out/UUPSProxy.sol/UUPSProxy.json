{"abi":[{"type":"fallback","stateMutability":"payable"},{"type":"receive","stateMutability":"payable"},{"type":"function","name":"initializeProxy","inputs":[{"name":"initialAddress","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"error","name":"Initialized","inputs":[]},{"type":"error","name":"ZeroAddress","inputs":[]}],"bytecode":{"object":"0x608080604052346100165761011c908161001c8239f35b600080fdfe608060405260043610156015575b3660a65760a6565b6000803560e01c634a0687ef14602a5750600d565b3460a357602036600319011260a3576004356001600160a01b03808216808303609f5715608e577f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc90815416607d575580f35b6302ed543d60e51b60805260046080fd5b63d92e233d60e01b60805260046080fd5b8380fd5b80fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546000808092368280378136915af43d82803e1560e2573d90f35b3d90fdfea2646970667358221220dfbdf97e3ab91c4ae0e1b7efd445fe9a91297ff63a177b1646dd3c0b92bfc91d64736f6c63430008170033","sourceMap":"445:1115:137:-:0;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405260043610156015575b3660a65760a6565b6000803560e01c634a0687ef14602a5750600d565b3460a357602036600319011260a3576004356001600160a01b03808216808303609f5715608e577f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc90815416607d575580f35b6302ed543d60e51b60805260046080fd5b63d92e233d60e01b60805260046080fd5b8380fd5b80fd5b7f360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc546000808092368280378136915af43d82803e1560e2573d90f35b3d90fdfea2646970667358221220dfbdf97e3ab91c4ae0e1b7efd445fe9a91297ff63a177b1646dd3c0b92bfc91d64736f6c63430008170033","sourceMap":"445:1115:137:-:0;;;;;;;;;-1:-1:-1;445:1115:137;2853:63:33;445:1115:137;2853:63:33;:::i;445:1115:137:-;;;;;;;;;;;;;;;;;;;-1:-1:-1;;445:1115:137;;;;;;-1:-1:-1;;;;;445:1115:137;;;;;;;;1126:28;1122:54;;1502:53;;;;445:1115;1180:57;;1241:62;445:1115;;1180:57;1224:13;;;445:1115;1224:13;445:1115;;1224:13;1122:54;1163:13;;;445:1115;1163:13;445:1115;;1163:13;445:1115;;;;;;;2322:110:33;1502:53:137;;1018:819:33;;;;;;;;;;;;;;;;;;;;;;;;;;","linkReferences":{}},"methodIdentifiers":{"initializeProxy(address)":"4a0687ef"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"Initialized\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAddress\",\"type\":\"error\"},{\"stateMutability\":\"payable\",\"type\":\"fallback\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"initialAddress\",\"type\":\"address\"}],\"name\":\"initializeProxy\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"stateMutability\":\"payable\",\"type\":\"receive\"}],\"devdoc\":{\"author\":\"jtriley.eth\",\"details\":\"`initializeProxy(address)` is called by the Super Token Factory The call to the factory should be in the same transaction to avoid being front run\",\"kind\":\"dev\",\"methods\":{\"initializeProxy(address)\":{\"details\":\"Called by the SuperTokenFactory contract on upgrade\",\"params\":{\"initialAddress\":\"logic contract address\"}}},\"title\":\"UUPS Proxy implementation contract\",\"version\":1},\"userdoc\":{\"errors\":{\"Initialized()\":[{\"notice\":\"Thrown when the logic contract has been set\"}],\"ZeroAddress()\":[{\"notice\":\"Thrown when the logic contract address is zero\"}]},\"kind\":\"user\",\"methods\":{\"initializeProxy(address)\":{\"notice\":\"Stores the logic contract address only once.\"}},\"notice\":\"Stores the logic contract's address at the _IMPLEMENTATION_SLOT\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/base/UUPSProxy.sol\":\"UUPSProxy\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@superfluid-finance/=lib/superfluid-protocol-monorepo/packages/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":superfluid-protocol-monorepo/=lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/\"],\"viaIR\":true},\"sources\":{\"lib/openzeppelin-contracts/contracts/proxy/Proxy.sol\":{\"keccak256\":\"0xc130fe33f1b2132158531a87734153293f6d07bc263ff4ac90e85da9c82c0e27\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://8831721b6f4cc26534d190f9f1631c3f59c9ff38efdd911f85e0882b8e360472\",\"dweb:/ipfs/QmQZnLErZNStirSQ13ZNWQgvEYUtGE5tXYwn4QUPaVUfPN\"]},\"src/base/UUPSProxy.sol\":{\"keccak256\":\"0x76da7c14c45800fdf610e48ca70dcc81de29bcdd80974c0eb290dcc7918444a1\",\"license\":\"MIT OR Apache-2.0\",\"urls\":[\"bzz-raw://1df47b2e671fb7bcff7edaf10a5660083609566480b63cb276126bdb074e5c8d\",\"dweb:/ipfs/QmTvyRaGrAXTZ9voKuUuGzcVm7gqBcFYNsNzQVX2ohWnzG\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"Initialized"},{"inputs":[],"type":"error","name":"ZeroAddress"},{"inputs":[],"stateMutability":"payable","type":"fallback"},{"inputs":[{"internalType":"address","name":"initialAddress","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"initializeProxy"},{"inputs":[],"stateMutability":"payable","type":"receive"}],"devdoc":{"kind":"dev","methods":{"initializeProxy(address)":{"details":"Called by the SuperTokenFactory contract on upgrade","params":{"initialAddress":"logic contract address"}}},"version":1},"userdoc":{"kind":"user","methods":{"initializeProxy(address)":{"notice":"Stores the logic contract address only once."}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","@superfluid-finance/=lib/superfluid-protocol-monorepo/packages/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/","superfluid-protocol-monorepo/=lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/base/UUPSProxy.sol":"UUPSProxy"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"lib/openzeppelin-contracts/contracts/proxy/Proxy.sol":{"keccak256":"0xc130fe33f1b2132158531a87734153293f6d07bc263ff4ac90e85da9c82c0e27","urls":["bzz-raw://8831721b6f4cc26534d190f9f1631c3f59c9ff38efdd911f85e0882b8e360472","dweb:/ipfs/QmQZnLErZNStirSQ13ZNWQgvEYUtGE5tXYwn4QUPaVUfPN"],"license":"MIT"},"src/base/UUPSProxy.sol":{"keccak256":"0x76da7c14c45800fdf610e48ca70dcc81de29bcdd80974c0eb290dcc7918444a1","urls":["bzz-raw://1df47b2e671fb7bcff7edaf10a5660083609566480b63cb276126bdb074e5c8d","dweb:/ipfs/QmTvyRaGrAXTZ9voKuUuGzcVm7gqBcFYNsNzQVX2ohWnzG"],"license":"MIT OR Apache-2.0"}},"version":1},"ast":{"absolutePath":"src/base/UUPSProxy.sol","id":87077,"exportedSymbols":{"Proxy":[40086],"UUPSProxy":[87076]},"nodeType":"SourceUnit","src":"46:1515:137","nodes":[{"id":87022,"nodeType":"PragmaDirective","src":"46:23:137","nodes":[],"literals":["solidity","^","0.8",".0"]},{"id":87024,"nodeType":"ImportDirective","src":"71:62:137","nodes":[],"absolutePath":"lib/openzeppelin-contracts/contracts/proxy/Proxy.sol","file":"@openzeppelin/contracts/proxy/Proxy.sol","nameLocation":"-1:-1:-1","scope":87077,"sourceUnit":40087,"symbolAliases":[{"foreign":{"id":87023,"name":"Proxy","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":40086,"src":"79:5:137","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":87076,"nodeType":"ContractDefinition","src":"445:1115:137","nodes":[{"id":87030,"nodeType":"ErrorDefinition","src":"536:20:137","nodes":[],"documentation":{"id":87028,"nodeType":"StructuredDocumentation","src":"476:58:137","text":"@notice Thrown when the logic contract address is zero"},"errorSelector":"d92e233d","name":"ZeroAddress","nameLocation":"542:11:137","parameters":{"id":87029,"nodeType":"ParameterList","parameters":[],"src":"553:2:137"}},{"id":87033,"nodeType":"ErrorDefinition","src":"616:20:137","nodes":[],"documentation":{"id":87031,"nodeType":"StructuredDocumentation","src":"559:55:137","text":"@notice Thrown when the logic contract has been set"},"errorSelector":"5daa87a0","name":"Initialized","nameLocation":"622:11:137","parameters":{"id":87032,"nodeType":"ParameterList","parameters":[],"src":"633:2:137"}},{"id":87037,"nodeType":"VariableDeclaration","src":"769:117:137","nodes":[],"constant":true,"documentation":{"id":87034,"nodeType":"StructuredDocumentation","src":"639:128:137","text":"@notice Precomputed from the following for gas savings\n bytes32(uint256(keccak256(\"eip1967.proxy.implementation\") - 1));"},"mutability":"constant","name":"_IMPLEMENTATION_SLOT","nameLocation":"795:20:137","scope":87076,"stateVariable":true,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":87035,"name":"bytes32","nodeType":"ElementaryTypeName","src":"769:7:137","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"value":{"hexValue":"307833363038393461313362613161333231303636376338323834393264623938646361336532303736636333373335613932306133636135303564333832626263","id":87036,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"820:66:137","typeDescriptions":{"typeIdentifier":"t_rational_24440054405305269366569402256811496959409073762505157381672968839269610695612_by_1","typeString":"int_const 2444...(69 digits omitted)...5612"},"value":"0x360894a13ba1a3210667c828492db98dca3e2076cc3735a920a3ca505d382bbc"},"visibility":"internal"},{"id":87066,"nodeType":"FunctionDefinition","src":"1060:246:137","nodes":[],"body":{"id":87065,"nodeType":"Block","src":"1118:188:137","nodes":[],"statements":[{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87048,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"id":87043,"name":"initialAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87040,"src":"1126:14:137","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"==","rightExpression":{"arguments":[{"hexValue":"30","id":87046,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1152:1:137","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":87045,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1144:7:137","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":87044,"name":"address","nodeType":"ElementaryTypeName","src":"1144:7:137","typeDescriptions":{}}},"id":87047,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1144:10:137","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1126:28:137","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87052,"nodeType":"IfStatement","src":"1122:54:137","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":87049,"name":"ZeroAddress","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87030,"src":"1163:11:137","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":87050,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1163:13:137","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87051,"nodeType":"RevertStatement","src":"1156:20:137"}},{"condition":{"commonType":{"typeIdentifier":"t_address","typeString":"address"},"id":87059,"isConstant":false,"isLValue":false,"isPure":false,"lValueRequested":false,"leftExpression":{"arguments":[],"expression":{"argumentTypes":[],"id":87053,"name":"_implementation","nodeType":"Identifier","overloadedDeclarations":[87075],"referencedDeclaration":87075,"src":"1184:15:137","typeDescriptions":{"typeIdentifier":"t_function_internal_view$__$returns$_t_address_$","typeString":"function () view returns (address)"}},"id":87054,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1184:17:137","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"nodeType":"BinaryOperation","operator":"!=","rightExpression":{"arguments":[{"hexValue":"30","id":87057,"isConstant":false,"isLValue":false,"isPure":true,"kind":"number","lValueRequested":false,"nodeType":"Literal","src":"1213:1:137","typeDescriptions":{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"},"value":"0"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_rational_0_by_1","typeString":"int_const 0"}],"id":87056,"isConstant":false,"isLValue":false,"isPure":true,"lValueRequested":false,"nodeType":"ElementaryTypeNameExpression","src":"1205:7:137","typeDescriptions":{"typeIdentifier":"t_type$_t_address_$","typeString":"type(address)"},"typeName":{"id":87055,"name":"address","nodeType":"ElementaryTypeName","src":"1205:7:137","typeDescriptions":{}}},"id":87058,"isConstant":false,"isLValue":false,"isPure":true,"kind":"typeConversion","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1205:10:137","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"src":"1184:31:137","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"id":87063,"nodeType":"IfStatement","src":"1180:57:137","trueBody":{"errorCall":{"arguments":[],"expression":{"argumentTypes":[],"id":87060,"name":"Initialized","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":87033,"src":"1224:11:137","typeDescriptions":{"typeIdentifier":"t_function_error_pure$__$returns$__$","typeString":"function () pure"}},"id":87061,"isConstant":false,"isLValue":false,"isPure":false,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"1224:13:137","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_tuple$__$","typeString":"tuple()"}},"id":87062,"nodeType":"RevertStatement","src":"1217:20:137"}},{"AST":{"nativeSrc":"1250:53:137","nodeType":"YulBlock","src":"1250:53:137","statements":[{"expression":{"arguments":[{"name":"_IMPLEMENTATION_SLOT","nativeSrc":"1262:20:137","nodeType":"YulIdentifier","src":"1262:20:137"},{"name":"initialAddress","nativeSrc":"1284:14:137","nodeType":"YulIdentifier","src":"1284:14:137"}],"functionName":{"name":"sstore","nativeSrc":"1255:6:137","nodeType":"YulIdentifier","src":"1255:6:137"},"nativeSrc":"1255:44:137","nodeType":"YulFunctionCall","src":"1255:44:137"},"nativeSrc":"1255:44:137","nodeType":"YulExpressionStatement","src":"1255:44:137"}]},"evmVersion":"paris","externalReferences":[{"declaration":87037,"isOffset":false,"isSlot":false,"src":"1262:20:137","valueSize":1},{"declaration":87040,"isOffset":false,"isSlot":false,"src":"1284:14:137","valueSize":1}],"id":87064,"nodeType":"InlineAssembly","src":"1241:62:137"}]},"documentation":{"id":87038,"nodeType":"StructuredDocumentation","src":"890:168:137","text":"@notice Stores the logic contract address only once.\n @dev Called by the SuperTokenFactory contract on upgrade\n @param initialAddress logic contract address"},"functionSelector":"4a0687ef","implemented":true,"kind":"function","modifiers":[],"name":"initializeProxy","nameLocation":"1069:15:137","parameters":{"id":87041,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87040,"mutability":"mutable","name":"initialAddress","nameLocation":"1093:14:137","nodeType":"VariableDeclaration","scope":87066,"src":"1085:22:137","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87039,"name":"address","nodeType":"ElementaryTypeName","src":"1085:7:137","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1084:24:137"},"returnParameters":{"id":87042,"nodeType":"ParameterList","parameters":[],"src":"1118:0:137"},"scope":87076,"stateMutability":"nonpayable","virtual":false,"visibility":"external"},{"id":87075,"nodeType":"FunctionDefinition","src":"1406:152:137","nodes":[],"body":{"id":87074,"nodeType":"Block","src":"1498:60:137","nodes":[],"statements":[{"AST":{"nativeSrc":"1511:44:137","nodeType":"YulBlock","src":"1511:44:137","statements":[{"nativeSrc":"1516:35:137","nodeType":"YulAssignment","src":"1516:35:137","value":{"arguments":[{"name":"_IMPLEMENTATION_SLOT","nativeSrc":"1530:20:137","nodeType":"YulIdentifier","src":"1530:20:137"}],"functionName":{"name":"sload","nativeSrc":"1524:5:137","nodeType":"YulIdentifier","src":"1524:5:137"},"nativeSrc":"1524:27:137","nodeType":"YulFunctionCall","src":"1524:27:137"},"variableNames":[{"name":"impl","nativeSrc":"1516:4:137","nodeType":"YulIdentifier","src":"1516:4:137"}]}]},"evmVersion":"paris","externalReferences":[{"declaration":87037,"isOffset":false,"isSlot":false,"src":"1530:20:137","valueSize":1},{"declaration":87071,"isOffset":false,"isSlot":false,"src":"1516:4:137","valueSize":1}],"id":87073,"nodeType":"InlineAssembly","src":"1502:53:137"}]},"baseFunctions":[40051],"documentation":{"id":87067,"nodeType":"StructuredDocumentation","src":"1309:95:137","text":"@notice Reads logic contract from precomputed slot\n @return impl Logic contract address"},"implemented":true,"kind":"function","modifiers":[],"name":"_implementation","nameLocation":"1415:15:137","overrides":{"id":87069,"nodeType":"OverrideSpecifier","overrides":[],"src":"1463:8:137"},"parameters":{"id":87068,"nodeType":"ParameterList","parameters":[],"src":"1430:2:137"},"returnParameters":{"id":87072,"nodeType":"ParameterList","parameters":[{"constant":false,"id":87071,"mutability":"mutable","name":"impl","nameLocation":"1491:4:137","nodeType":"VariableDeclaration","scope":87075,"src":"1483:12:137","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":87070,"name":"address","nodeType":"ElementaryTypeName","src":"1483:7:137","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"1482:14:137"},"scope":87076,"stateMutability":"view","virtual":true,"visibility":"internal"}],"abstract":false,"baseContracts":[{"baseName":{"id":87026,"name":"Proxy","nameLocations":["467:5:137"],"nodeType":"IdentifierPath","referencedDeclaration":40086,"src":"467:5:137"},"id":87027,"nodeType":"InheritanceSpecifier","src":"467:5:137"}],"canonicalName":"UUPSProxy","contractDependencies":[],"contractKind":"contract","documentation":{"id":87025,"nodeType":"StructuredDocumentation","src":"135:310:137","text":"@title UUPS Proxy implementation contract\n @author jtriley.eth\n @notice Stores the logic contract's address at the _IMPLEMENTATION_SLOT\n @dev `initializeProxy(address)` is called by the Super Token Factory\n The call to the factory should be in the same transaction to avoid being\n front run"},"fullyImplemented":true,"linearizedBaseContracts":[87076,40086],"name":"UUPSProxy","nameLocation":"454:9:137","scope":87077,"usedErrors":[87030,87033],"usedEvents":[]}],"license":"MIT OR Apache-2.0"},"id":137}