{"abi":[{"type":"function","name":"agreementType","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"pure"},{"type":"function","name":"approveSubscription","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","internalType":"address"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"ctx","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"newCtx","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"function","name":"calculateDistribution","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","internalType":"address"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"actualAmount","type":"uint256","internalType":"uint256"},{"name":"newIndexValue","type":"uint128","internalType":"uint128"}],"stateMutability":"view"},{"type":"function","name":"claim","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","internalType":"address"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"subscriber","type":"address","internalType":"address"},{"name":"ctx","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"newCtx","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"function","name":"createIndex","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"ctx","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"newCtx","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"function","name":"deleteSubscription","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","internalType":"address"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"subscriber","type":"address","internalType":"address"},{"name":"ctx","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"newCtx","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"function","name":"distribute","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"ctx","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"newCtx","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"function","name":"getIndex","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","internalType":"address"},{"name":"indexId","type":"uint32","internalType":"uint32"}],"outputs":[{"name":"exist","type":"bool","internalType":"bool"},{"name":"indexValue","type":"uint128","internalType":"uint128"},{"name":"totalUnitsApproved","type":"uint128","internalType":"uint128"},{"name":"totalUnitsPending","type":"uint128","internalType":"uint128"}],"stateMutability":"view"},{"type":"function","name":"getSubscription","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","internalType":"address"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"subscriber","type":"address","internalType":"address"}],"outputs":[{"name":"exist","type":"bool","internalType":"bool"},{"name":"approved","type":"bool","internalType":"bool"},{"name":"units","type":"uint128","internalType":"uint128"},{"name":"pendingDistribution","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"getSubscriptionByID","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"agreementId","type":"bytes32","internalType":"bytes32"}],"outputs":[{"name":"publisher","type":"address","internalType":"address"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"approved","type":"bool","internalType":"bool"},{"name":"units","type":"uint128","internalType":"uint128"},{"name":"pendingDistribution","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"listSubscriptions","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"subscriber","type":"address","internalType":"address"}],"outputs":[{"name":"publishers","type":"address[]","internalType":"address[]"},{"name":"indexIds","type":"uint32[]","internalType":"uint32[]"},{"name":"unitsList","type":"uint128[]","internalType":"uint128[]"}],"stateMutability":"view"},{"type":"function","name":"realtimeBalanceOf","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"account","type":"address","internalType":"address"},{"name":"time","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"dynamicBalance","type":"int256","internalType":"int256"},{"name":"deposit","type":"uint256","internalType":"uint256"},{"name":"owedDeposit","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"revokeSubscription","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","internalType":"address"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"ctx","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"newCtx","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"function","name":"updateIndex","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"indexValue","type":"uint128","internalType":"uint128"},{"name":"ctx","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"newCtx","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"function","name":"updateSubscription","inputs":[{"name":"token","type":"address","internalType":"contract ISuperfluidToken"},{"name":"indexId","type":"uint32","internalType":"uint32"},{"name":"subscriber","type":"address","internalType":"address"},{"name":"units","type":"uint128","internalType":"uint128"},{"name":"ctx","type":"bytes","internalType":"bytes"}],"outputs":[{"name":"newCtx","type":"bytes","internalType":"bytes"}],"stateMutability":"nonpayable"},{"type":"event","name":"IndexCreated","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","indexed":true,"internalType":"address"},{"name":"indexId","type":"uint32","indexed":true,"internalType":"uint32"},{"name":"userData","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"IndexDistributionClaimed","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","indexed":true,"internalType":"address"},{"name":"indexId","type":"uint32","indexed":true,"internalType":"uint32"},{"name":"subscriber","type":"address","indexed":false,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"IndexSubscribed","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","indexed":true,"internalType":"address"},{"name":"indexId","type":"uint32","indexed":true,"internalType":"uint32"},{"name":"subscriber","type":"address","indexed":false,"internalType":"address"},{"name":"userData","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"IndexUnitsUpdated","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","indexed":true,"internalType":"address"},{"name":"indexId","type":"uint32","indexed":true,"internalType":"uint32"},{"name":"subscriber","type":"address","indexed":false,"internalType":"address"},{"name":"units","type":"uint128","indexed":false,"internalType":"uint128"},{"name":"userData","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"IndexUnsubscribed","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","indexed":true,"internalType":"address"},{"name":"indexId","type":"uint32","indexed":true,"internalType":"uint32"},{"name":"subscriber","type":"address","indexed":false,"internalType":"address"},{"name":"userData","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"IndexUpdated","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"contract ISuperfluidToken"},{"name":"publisher","type":"address","indexed":true,"internalType":"address"},{"name":"indexId","type":"uint32","indexed":true,"internalType":"uint32"},{"name":"oldIndexValue","type":"uint128","indexed":false,"internalType":"uint128"},{"name":"newIndexValue","type":"uint128","indexed":false,"internalType":"uint128"},{"name":"totalUnitsPending","type":"uint128","indexed":false,"internalType":"uint128"},{"name":"totalUnitsApproved","type":"uint128","indexed":false,"internalType":"uint128"},{"name":"userData","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"SubscriptionApproved","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"contract ISuperfluidToken"},{"name":"subscriber","type":"address","indexed":true,"internalType":"address"},{"name":"publisher","type":"address","indexed":false,"internalType":"address"},{"name":"indexId","type":"uint32","indexed":false,"internalType":"uint32"},{"name":"userData","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"SubscriptionDistributionClaimed","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"contract ISuperfluidToken"},{"name":"subscriber","type":"address","indexed":true,"internalType":"address"},{"name":"publisher","type":"address","indexed":false,"internalType":"address"},{"name":"indexId","type":"uint32","indexed":false,"internalType":"uint32"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SubscriptionRevoked","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"contract ISuperfluidToken"},{"name":"subscriber","type":"address","indexed":true,"internalType":"address"},{"name":"publisher","type":"address","indexed":false,"internalType":"address"},{"name":"indexId","type":"uint32","indexed":false,"internalType":"uint32"},{"name":"userData","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"event","name":"SubscriptionUnitsUpdated","inputs":[{"name":"token","type":"address","indexed":true,"internalType":"contract ISuperfluidToken"},{"name":"subscriber","type":"address","indexed":true,"internalType":"address"},{"name":"publisher","type":"address","indexed":false,"internalType":"address"},{"name":"indexId","type":"uint32","indexed":false,"internalType":"uint32"},{"name":"units","type":"uint128","indexed":false,"internalType":"uint128"},{"name":"userData","type":"bytes","indexed":false,"internalType":"bytes"}],"anonymous":false},{"type":"error","name":"IDA_INDEX_ALREADY_EXISTS","inputs":[]},{"type":"error","name":"IDA_INDEX_DOES_NOT_EXIST","inputs":[]},{"type":"error","name":"IDA_INDEX_SHOULD_GROW","inputs":[]},{"type":"error","name":"IDA_INSUFFICIENT_BALANCE","inputs":[]},{"type":"error","name":"IDA_OPERATION_NOT_ALLOWED","inputs":[]},{"type":"error","name":"IDA_SUBSCRIPTION_ALREADY_APPROVED","inputs":[]},{"type":"error","name":"IDA_SUBSCRIPTION_DOES_NOT_EXIST","inputs":[]},{"type":"error","name":"IDA_SUBSCRIPTION_IS_NOT_APPROVED","inputs":[]},{"type":"error","name":"IDA_ZERO_ADDRESS_SUBSCRIBER","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"agreementType()":"7730599e","approveSubscription(address,address,uint32,bytes)":"acf4a6c2","calculateDistribution(address,address,uint32,uint256)":"899baaec","claim(address,address,uint32,address,bytes)":"acafa1b8","createIndex(address,uint32,bytes)":"d787840a","deleteSubscription(address,address,uint32,address,bytes)":"2e5e74c6","distribute(address,uint32,uint256,bytes)":"b96731c2","getIndex(address,address,uint32)":"23fc23f3","getSubscription(address,address,uint32,address)":"5b534051","getSubscriptionByID(address,bytes32)":"cd7245c5","listSubscriptions(address,address)":"b6dacdb8","realtimeBalanceOf(address,address,uint256)":"9b2e48bc","revokeSubscription(address,address,uint32,bytes)":"6041ae96","updateIndex(address,uint32,uint128,bytes)":"7fbc7639","updateSubscription(address,uint32,address,uint128,bytes)":"232d2b58"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.23+commit.f704f362\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"IDA_INDEX_ALREADY_EXISTS\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"IDA_INDEX_DOES_NOT_EXIST\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"IDA_INDEX_SHOULD_GROW\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"IDA_INSUFFICIENT_BALANCE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"IDA_OPERATION_NOT_ALLOWED\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"IDA_SUBSCRIPTION_ALREADY_APPROVED\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"IDA_SUBSCRIPTION_DOES_NOT_EXIST\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"IDA_SUBSCRIPTION_IS_NOT_APPROVED\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"IDA_ZERO_ADDRESS_SUBSCRIBER\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"IndexCreated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"IndexDistributionClaimed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"IndexSubscribed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint128\",\"name\":\"units\",\"type\":\"uint128\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"IndexUnitsUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"IndexUnsubscribed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"uint128\",\"name\":\"oldIndexValue\",\"type\":\"uint128\"},{\"indexed\":false,\"internalType\":\"uint128\",\"name\":\"newIndexValue\",\"type\":\"uint128\"},{\"indexed\":false,\"internalType\":\"uint128\",\"name\":\"totalUnitsPending\",\"type\":\"uint128\"},{\"indexed\":false,\"internalType\":\"uint128\",\"name\":\"totalUnitsApproved\",\"type\":\"uint128\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"IndexUpdated\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"SubscriptionApproved\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"SubscriptionDistributionClaimed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"SubscriptionRevoked\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"indexed\":false,\"internalType\":\"uint128\",\"name\":\"units\",\"type\":\"uint128\"},{\"indexed\":false,\"internalType\":\"bytes\",\"name\":\"userData\",\"type\":\"bytes\"}],\"name\":\"SubscriptionUnitsUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"agreementType\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"pure\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"bytes\",\"name\":\"ctx\",\"type\":\"bytes\"}],\"name\":\"approveSubscription\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"newCtx\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"calculateDistribution\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"actualAmount\",\"type\":\"uint256\"},{\"internalType\":\"uint128\",\"name\":\"newIndexValue\",\"type\":\"uint128\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"ctx\",\"type\":\"bytes\"}],\"name\":\"claim\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"newCtx\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"bytes\",\"name\":\"ctx\",\"type\":\"bytes\"}],\"name\":\"createIndex\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"newCtx\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"internalType\":\"bytes\",\"name\":\"ctx\",\"type\":\"bytes\"}],\"name\":\"deleteSubscription\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"newCtx\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"ctx\",\"type\":\"bytes\"}],\"name\":\"distribute\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"newCtx\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"}],\"name\":\"getIndex\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"exist\",\"type\":\"bool\"},{\"internalType\":\"uint128\",\"name\":\"indexValue\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"totalUnitsApproved\",\"type\":\"uint128\"},{\"internalType\":\"uint128\",\"name\":\"totalUnitsPending\",\"type\":\"uint128\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"}],\"name\":\"getSubscription\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"exist\",\"type\":\"bool\"},{\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"},{\"internalType\":\"uint128\",\"name\":\"units\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"pendingDistribution\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"bytes32\",\"name\":\"agreementId\",\"type\":\"bytes32\"}],\"name\":\"getSubscriptionByID\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"},{\"internalType\":\"uint128\",\"name\":\"units\",\"type\":\"uint128\"},{\"internalType\":\"uint256\",\"name\":\"pendingDistribution\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"}],\"name\":\"listSubscriptions\",\"outputs\":[{\"internalType\":\"address[]\",\"name\":\"publishers\",\"type\":\"address[]\"},{\"internalType\":\"uint32[]\",\"name\":\"indexIds\",\"type\":\"uint32[]\"},{\"internalType\":\"uint128[]\",\"name\":\"unitsList\",\"type\":\"uint128[]\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"account\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"time\",\"type\":\"uint256\"}],\"name\":\"realtimeBalanceOf\",\"outputs\":[{\"internalType\":\"int256\",\"name\":\"dynamicBalance\",\"type\":\"int256\"},{\"internalType\":\"uint256\",\"name\":\"deposit\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"owedDeposit\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"publisher\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"bytes\",\"name\":\"ctx\",\"type\":\"bytes\"}],\"name\":\"revokeSubscription\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"newCtx\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"uint128\",\"name\":\"indexValue\",\"type\":\"uint128\"},{\"internalType\":\"bytes\",\"name\":\"ctx\",\"type\":\"bytes\"}],\"name\":\"updateIndex\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"newCtx\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"contract ISuperfluidToken\",\"name\":\"token\",\"type\":\"address\"},{\"internalType\":\"uint32\",\"name\":\"indexId\",\"type\":\"uint32\"},{\"internalType\":\"address\",\"name\":\"subscriber\",\"type\":\"address\"},{\"internalType\":\"uint128\",\"name\":\"units\",\"type\":\"uint128\"},{\"internalType\":\"bytes\",\"name\":\"ctx\",\"type\":\"bytes\"}],\"name\":\"updateSubscription\",\"outputs\":[{\"internalType\":\"bytes\",\"name\":\"newCtx\",\"type\":\"bytes\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Superfluid\",\"events\":{\"IndexCreated(address,address,uint32,bytes)\":{\"details\":\"Index created event\",\"params\":{\"indexId\":\"The specified indexId of the newly created index\",\"publisher\":\"Index creator and publisher\",\"token\":\"Super token address\",\"userData\":\"The user provided data\"}},\"IndexDistributionClaimed(address,address,uint32,address,uint256)\":{\"details\":\"Index distribution claimed event\",\"params\":{\"amount\":\"The pending amount claimed\",\"indexId\":\"The specified indexId\",\"publisher\":\"Index publisher\",\"subscriber\":\"The subscriber units updated\",\"token\":\"Super token address\"}},\"IndexSubscribed(address,address,uint32,address,bytes)\":{\"details\":\"Index subscribed event\",\"params\":{\"indexId\":\"The specified indexId\",\"publisher\":\"Index publisher\",\"subscriber\":\"The approved subscriber\",\"token\":\"Super token address\",\"userData\":\"The user provided data\"}},\"IndexUnitsUpdated(address,address,uint32,address,uint128,bytes)\":{\"details\":\"Index units updated event\",\"params\":{\"indexId\":\"The specified indexId\",\"publisher\":\"Index publisher\",\"subscriber\":\"The subscriber units updated\",\"token\":\"Super token address\",\"units\":\"The new units amount\",\"userData\":\"The user provided data\"}},\"IndexUnsubscribed(address,address,uint32,address,bytes)\":{\"details\":\"Index unsubscribed event\",\"params\":{\"indexId\":\"The specified indexId\",\"publisher\":\"Index publisher\",\"subscriber\":\"The unsubscribed subscriber\",\"token\":\"Super token address\",\"userData\":\"The user provided data\"}},\"IndexUpdated(address,address,uint32,uint128,uint128,uint128,uint128,bytes)\":{\"details\":\"Index updated event\",\"params\":{\"indexId\":\"The specified indexId of the updated index\",\"newIndexValue\":\"The updated index value\",\"oldIndexValue\":\"The previous index value\",\"publisher\":\"Index updater and publisher\",\"token\":\"Super token address\",\"totalUnitsApproved\":\"The total units approved when the indexValue was updated\",\"totalUnitsPending\":\"The total units pending when the indexValue was updated\",\"userData\":\"The user provided data\"}},\"SubscriptionApproved(address,address,address,uint32,bytes)\":{\"details\":\"Subscription approved event\",\"params\":{\"indexId\":\"The specified indexId\",\"publisher\":\"Index publisher\",\"subscriber\":\"The approved subscriber\",\"token\":\"Super token address\",\"userData\":\"The user provided data\"}},\"SubscriptionDistributionClaimed(address,address,address,uint32,uint256)\":{\"details\":\"Subscription distribution claimed event\",\"params\":{\"amount\":\"The pending amount claimed\",\"indexId\":\"The specified indexId\",\"publisher\":\"Index publisher\",\"subscriber\":\"The subscriber units updated\",\"token\":\"Super token address\"}},\"SubscriptionRevoked(address,address,address,uint32,bytes)\":{\"details\":\"Subscription approved event\",\"params\":{\"indexId\":\"The specified indexId\",\"publisher\":\"Index publisher\",\"subscriber\":\"The approved subscriber\",\"token\":\"Super token address\",\"userData\":\"The user provided data\"}},\"SubscriptionUnitsUpdated(address,address,address,uint32,uint128,bytes)\":{\"details\":\"Subscription units updated event\",\"params\":{\"indexId\":\"The specified indexId\",\"publisher\":\"Index publisher\",\"subscriber\":\"The subscriber units updated\",\"token\":\"Super token address\",\"units\":\"The new units amount\",\"userData\":\"The user provided data\"}}},\"kind\":\"dev\",\"methods\":{\"agreementType()\":{\"details\":\"ISuperAgreement.agreementType implementation\"},\"approveSubscription(address,address,uint32,bytes)\":{\"custom:callbacks\":\" - if subscription exist   - AgreementCreated callback to the publisher:      - agreementId is for the subscription - if subscription does not exist   - AgreementUpdated callback to the publisher:      - agreementId is for the subscription\",\"details\":\"Approve the subscription of an index\",\"params\":{\"ctx\":\"Context bytes (see ISuperfluid.sol for Context struct)\",\"indexId\":\"Id of the index\",\"publisher\":\"The publisher of the index\",\"token\":\"Super token address\"}},\"calculateDistribution(address,address,uint32,uint256)\":{\"details\":\"Calculate actual distribution amount\",\"params\":{\"amount\":\"The amount of tokens desired to be distributed\",\"indexId\":\"Id of the index\",\"publisher\":\"The publisher of the index\",\"token\":\"Super token address\"},\"returns\":{\"actualAmount\":\"The amount to be distributed after ensuring no rounding errors\",\"newIndexValue\":\"The index value given the desired amount of tokens to be distributed\"}},\"claim(address,address,uint32,address,bytes)\":{\"custom:callbacks\":\" - AgreementUpdated callback to the publisher:    - agreementId is for the subscription\",\"custom:note\":\"The subscription should not be approved yet\",\"details\":\"Claim pending distributions\",\"params\":{\"ctx\":\"Context bytes (see ISuperfluid.sol for Context struct)\",\"indexId\":\"Id of the index\",\"publisher\":\"The publisher of the index\",\"subscriber\":\"The subscriber's address\",\"token\":\"Super token address\"}},\"createIndex(address,uint32,bytes)\":{\"custom:callbacks\":\" None\",\"details\":\"Create a new index for the publisher\",\"params\":{\"ctx\":\"Context bytes (see ISuperfluid.sol for Context struct)\",\"indexId\":\"Id of the index\",\"token\":\"Super token address\"}},\"deleteSubscription(address,address,uint32,address,bytes)\":{\"custom:callbacks\":\" - if the subscriber called it   - AgreementTerminated callback to the publsiher:      - agreementId is for the subscription - if the publisher called it   - AgreementTerminated callback to the subscriber:      - agreementId is for the subscription\",\"details\":\"Delete the subscription of an user\",\"params\":{\"ctx\":\"Context bytes (see ISuperfluid.sol for Context struct)\",\"indexId\":\"Id of the index\",\"publisher\":\"The publisher of the index\",\"subscriber\":\"The subscriber's address\",\"token\":\"Super token address\"}},\"distribute(address,uint32,uint256,bytes)\":{\"custom:callbacks\":\" None\",\"custom:note\":\" - This is a convenient version of updateIndex. It adds to the index   a delta that equals to `amount / totalUnits` - The actual amount distributed could be obtained via   `calculateDistribution`. This is due to precision error with index   value and units data range\",\"details\":\"Distribute tokens through the index\",\"params\":{\"amount\":\"The amount of tokens desired to be distributed\",\"ctx\":\"Context bytes (see ISuperfluid.sol for Context struct)\",\"indexId\":\"Id of the index\",\"token\":\"Super token address\"}},\"getIndex(address,address,uint32)\":{\"details\":\"Query the data of a index\",\"params\":{\"indexId\":\"Id of the index\",\"publisher\":\"The publisher of the index\",\"token\":\"Super token address\"},\"returns\":{\"exist\":\"Does the index exist\",\"indexValue\":\"Value of the current index\",\"totalUnitsApproved\":\"Total units approved for the index\",\"totalUnitsPending\":\"Total units pending approval for the index\"}},\"getSubscription(address,address,uint32,address)\":{\"details\":\"Get data of a subscription\",\"params\":{\"indexId\":\"Id of the index\",\"publisher\":\"The publisher of the index\",\"subscriber\":\"The subscriber of the index\",\"token\":\"Super token address\"},\"returns\":{\"approved\":\"Is the subscription approved?\",\"exist\":\"Does the subscription exist?\",\"pendingDistribution\":\"Pending amount of tokens to be distributed for unapproved subscription\",\"units\":\"Units of the suscription\"}},\"getSubscriptionByID(address,bytes32)\":{\"details\":\"indexId (agreementId) is the keccak256 hash of encodePacked(\\\"publisher\\\", publisher, indexId)\",\"params\":{\"agreementId\":\"The agreement ID\",\"token\":\"Super token address\"},\"returns\":{\"approved\":\"Is the subscription approved?\",\"indexId\":\"Id of the index\",\"pendingDistribution\":\"Pending amount of tokens to be distributed for unapproved subscription\",\"publisher\":\"The publisher of the index\",\"units\":\"Units of the suscription\"}},\"listSubscriptions(address,address)\":{\"details\":\"List subscriptions of an user\",\"params\":{\"subscriber\":\"The subscriber's address\",\"token\":\"Super token address\"},\"returns\":{\"indexIds\":\"Indexes of the subscriptions\",\"publishers\":\"Publishers of the subcriptions\",\"unitsList\":\"Units of the subscriptions\"}},\"realtimeBalanceOf(address,address,uint256)\":{\"details\":\"Calculate the real-time balance for the account of this agreement class\",\"params\":{\"account\":\"Account the state belongs to\",\"time\":\"Time used for the calculation\"},\"returns\":{\"deposit\":\"Account deposit amount of this agreement\",\"dynamicBalance\":\"Dynamic balance portion of real-time balance of this agreement\",\"owedDeposit\":\"Account owed deposit amount of this agreement\"}},\"revokeSubscription(address,address,uint32,bytes)\":{\"custom:callbacks\":\" - AgreementUpdated callback to the publisher:    - agreementId is for the subscription\",\"details\":\"\\\"Unapproves\\\" the subscription and moves approved units to pending\",\"params\":{\"ctx\":\"Context bytes (see ISuperfluid.sol for Context struct)\",\"indexId\":\"Id of the index\",\"publisher\":\"The publisher of the index\",\"token\":\"Super token address\"}},\"updateIndex(address,uint32,uint128,bytes)\":{\"custom:callbacks\":\" None\",\"details\":\"Update index value of an index\",\"params\":{\"ctx\":\"Context bytes (see ISuperfluid.sol for Context struct)\",\"indexId\":\"Id of the index\",\"indexValue\":\"Value of the index\",\"token\":\"Super token address\"}},\"updateSubscription(address,uint32,address,uint128,bytes)\":{\"custom:callbacks\":\" - if subscription exist   - AgreementCreated callback to the subscriber:      - agreementId is for the subscription - if subscription does not exist   - AgreementUpdated callback to the subscriber:      - agreementId is for the subscription\",\"details\":\"Update the nuber of units of a subscription\",\"params\":{\"ctx\":\"Context bytes (see ISuperfluid.sol for Context struct)\",\"indexId\":\"Id of the index\",\"subscriber\":\"The subscriber of the index\",\"token\":\"Super token address\",\"units\":\"Number of units of the subscription\"}}},\"title\":\"Instant Distribution Agreement interface\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"getSubscriptionByID(address,bytes32)\":{\"notice\":\"Get data of a subscription by agreement ID\"},\"revokeSubscription(address,address,uint32,bytes)\":{\"notice\":\"Revoke the subscription of an index\"}},\"notice\":\"   - A publisher can create as many as indices as possibly identifiable with `indexId`.     - `indexId` is deliberately limited to 32 bits, to avoid the chance for sha-3 collision.       Despite knowing sha-3 collision is only theoretical.   - A publisher can create a subscription to an index for any subscriber.   - A subscription consists of:     - The index it subscribes to.     - Number of units subscribed.   - An index consists of:     - Current value as `uint128 indexValue`.     - Total units of the approved subscriptions as `uint128 totalUnitsApproved`.     - Total units of the non approved subscription as `uint128 totalUnitsPending`.   - A publisher can update an index with a new value that doesn't decrease.   - A publisher can update a subscription with any number of units.   - A publisher or a subscriber can delete a subscription and reset its units to zero.   - A subscriber must approve the index in order to receive distributions from the publisher     each time the index is updated.     - The amount distributed is $$\\\\Delta{index} * units$$   - Distributions to a non approved subscription stays in the publisher's deposit until:     - the subscriber approves the subscription (side effect),     - the publisher updates the subscription (side effect),     - the subscriber deletes the subscription even if it is never approved (side effect),     - or the subscriber can explicitly claim them.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/agreements/IInstantDistributionAgreementV1.sol\":\"IInstantDistributionAgreementV1\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@superfluid-finance/=lib/superfluid-protocol-monorepo/packages/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":openzeppelin/=lib/openzeppelin-contracts/contracts/\",\":superfluid-protocol-monorepo/=lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/\"],\"viaIR\":true},\"sources\":{\"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/agreements/IInstantDistributionAgreementV1.sol\":{\"keccak256\":\"0xac0ea75673feea931d1129ffff440390a0dd3a8f8cfa60fdb1481342652dc348\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://a08777cd6701548c08f1f55d0ce86e0773a80ef28613852cd2f0552a2a24a387\",\"dweb:/ipfs/QmTgWcQE6mNs3MLUCgqtnsC5UfYYQ9x3gsjXpvJdSe2WJg\"]},\"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/superfluid/ISuperAgreement.sol\":{\"keccak256\":\"0xba0407c47917aee8b6e7cea745332d2f7244cc3b91d249426f0105b365feb0ee\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4e8c38994af84e123476f8de8b81fe466e9a575374b13c38a4dc30bdd2d12c06\",\"dweb:/ipfs/QmfHrSyeMQN7wVn7qmD6aPH1wX4ugkhQXiR8te6xhADGaK\"]},\"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/superfluid/ISuperfluidToken.sol\":{\"keccak256\":\"0x18ea972421ff57ce62103f90c820ee039f170f0189a4b3c73fd0ff09452d1dbf\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://dd24799269920b4b7925362b41650b5b968bb957dc0dec50b451f5382fe573c1\",\"dweb:/ipfs/QmbL19zzZZSbVu2gYA3FtJLu4kbCtk9BybxCU7oJfpUbE7\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.23+commit.f704f362"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"IDA_INDEX_ALREADY_EXISTS"},{"inputs":[],"type":"error","name":"IDA_INDEX_DOES_NOT_EXIST"},{"inputs":[],"type":"error","name":"IDA_INDEX_SHOULD_GROW"},{"inputs":[],"type":"error","name":"IDA_INSUFFICIENT_BALANCE"},{"inputs":[],"type":"error","name":"IDA_OPERATION_NOT_ALLOWED"},{"inputs":[],"type":"error","name":"IDA_SUBSCRIPTION_ALREADY_APPROVED"},{"inputs":[],"type":"error","name":"IDA_SUBSCRIPTION_DOES_NOT_EXIST"},{"inputs":[],"type":"error","name":"IDA_SUBSCRIPTION_IS_NOT_APPROVED"},{"inputs":[],"type":"error","name":"IDA_ZERO_ADDRESS_SUBSCRIBER"},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address","indexed":true},{"internalType":"address","name":"publisher","type":"address","indexed":true},{"internalType":"uint32","name":"indexId","type":"uint32","indexed":true},{"internalType":"bytes","name":"userData","type":"bytes","indexed":false}],"type":"event","name":"IndexCreated","anonymous":false},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address","indexed":true},{"internalType":"address","name":"publisher","type":"address","indexed":true},{"internalType":"uint32","name":"indexId","type":"uint32","indexed":true},{"internalType":"address","name":"subscriber","type":"address","indexed":false},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"IndexDistributionClaimed","anonymous":false},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address","indexed":true},{"internalType":"address","name":"publisher","type":"address","indexed":true},{"internalType":"uint32","name":"indexId","type":"uint32","indexed":true},{"internalType":"address","name":"subscriber","type":"address","indexed":false},{"internalType":"bytes","name":"userData","type":"bytes","indexed":false}],"type":"event","name":"IndexSubscribed","anonymous":false},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address","indexed":true},{"internalType":"address","name":"publisher","type":"address","indexed":true},{"internalType":"uint32","name":"indexId","type":"uint32","indexed":true},{"internalType":"address","name":"subscriber","type":"address","indexed":false},{"internalType":"uint128","name":"units","type":"uint128","indexed":false},{"internalType":"bytes","name":"userData","type":"bytes","indexed":false}],"type":"event","name":"IndexUnitsUpdated","anonymous":false},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address","indexed":true},{"internalType":"address","name":"publisher","type":"address","indexed":true},{"internalType":"uint32","name":"indexId","type":"uint32","indexed":true},{"internalType":"address","name":"subscriber","type":"address","indexed":false},{"internalType":"bytes","name":"userData","type":"bytes","indexed":false}],"type":"event","name":"IndexUnsubscribed","anonymous":false},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address","indexed":true},{"internalType":"address","name":"publisher","type":"address","indexed":true},{"internalType":"uint32","name":"indexId","type":"uint32","indexed":true},{"internalType":"uint128","name":"oldIndexValue","type":"uint128","indexed":false},{"internalType":"uint128","name":"newIndexValue","type":"uint128","indexed":false},{"internalType":"uint128","name":"totalUnitsPending","type":"uint128","indexed":false},{"internalType":"uint128","name":"totalUnitsApproved","type":"uint128","indexed":false},{"internalType":"bytes","name":"userData","type":"bytes","indexed":false}],"type":"event","name":"IndexUpdated","anonymous":false},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address","indexed":true},{"internalType":"address","name":"subscriber","type":"address","indexed":true},{"internalType":"address","name":"publisher","type":"address","indexed":false},{"internalType":"uint32","name":"indexId","type":"uint32","indexed":false},{"internalType":"bytes","name":"userData","type":"bytes","indexed":false}],"type":"event","name":"SubscriptionApproved","anonymous":false},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address","indexed":true},{"internalType":"address","name":"subscriber","type":"address","indexed":true},{"internalType":"address","name":"publisher","type":"address","indexed":false},{"internalType":"uint32","name":"indexId","type":"uint32","indexed":false},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"SubscriptionDistributionClaimed","anonymous":false},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address","indexed":true},{"internalType":"address","name":"subscriber","type":"address","indexed":true},{"internalType":"address","name":"publisher","type":"address","indexed":false},{"internalType":"uint32","name":"indexId","type":"uint32","indexed":false},{"internalType":"bytes","name":"userData","type":"bytes","indexed":false}],"type":"event","name":"SubscriptionRevoked","anonymous":false},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address","indexed":true},{"internalType":"address","name":"subscriber","type":"address","indexed":true},{"internalType":"address","name":"publisher","type":"address","indexed":false},{"internalType":"uint32","name":"indexId","type":"uint32","indexed":false},{"internalType":"uint128","name":"units","type":"uint128","indexed":false},{"internalType":"bytes","name":"userData","type":"bytes","indexed":false}],"type":"event","name":"SubscriptionUnitsUpdated","anonymous":false},{"inputs":[],"stateMutability":"pure","type":"function","name":"agreementType","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"address","name":"publisher","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"bytes","name":"ctx","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"approveSubscription","outputs":[{"internalType":"bytes","name":"newCtx","type":"bytes"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"address","name":"publisher","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"uint256","name":"amount","type":"uint256"}],"stateMutability":"view","type":"function","name":"calculateDistribution","outputs":[{"internalType":"uint256","name":"actualAmount","type":"uint256"},{"internalType":"uint128","name":"newIndexValue","type":"uint128"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"address","name":"publisher","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"address","name":"subscriber","type":"address"},{"internalType":"bytes","name":"ctx","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"claim","outputs":[{"internalType":"bytes","name":"newCtx","type":"bytes"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"bytes","name":"ctx","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"createIndex","outputs":[{"internalType":"bytes","name":"newCtx","type":"bytes"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"address","name":"publisher","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"address","name":"subscriber","type":"address"},{"internalType":"bytes","name":"ctx","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"deleteSubscription","outputs":[{"internalType":"bytes","name":"newCtx","type":"bytes"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"bytes","name":"ctx","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"distribute","outputs":[{"internalType":"bytes","name":"newCtx","type":"bytes"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"address","name":"publisher","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"}],"stateMutability":"view","type":"function","name":"getIndex","outputs":[{"internalType":"bool","name":"exist","type":"bool"},{"internalType":"uint128","name":"indexValue","type":"uint128"},{"internalType":"uint128","name":"totalUnitsApproved","type":"uint128"},{"internalType":"uint128","name":"totalUnitsPending","type":"uint128"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"address","name":"publisher","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"address","name":"subscriber","type":"address"}],"stateMutability":"view","type":"function","name":"getSubscription","outputs":[{"internalType":"bool","name":"exist","type":"bool"},{"internalType":"bool","name":"approved","type":"bool"},{"internalType":"uint128","name":"units","type":"uint128"},{"internalType":"uint256","name":"pendingDistribution","type":"uint256"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"bytes32","name":"agreementId","type":"bytes32"}],"stateMutability":"view","type":"function","name":"getSubscriptionByID","outputs":[{"internalType":"address","name":"publisher","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"bool","name":"approved","type":"bool"},{"internalType":"uint128","name":"units","type":"uint128"},{"internalType":"uint256","name":"pendingDistribution","type":"uint256"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"address","name":"subscriber","type":"address"}],"stateMutability":"view","type":"function","name":"listSubscriptions","outputs":[{"internalType":"address[]","name":"publishers","type":"address[]"},{"internalType":"uint32[]","name":"indexIds","type":"uint32[]"},{"internalType":"uint128[]","name":"unitsList","type":"uint128[]"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"address","name":"account","type":"address"},{"internalType":"uint256","name":"time","type":"uint256"}],"stateMutability":"view","type":"function","name":"realtimeBalanceOf","outputs":[{"internalType":"int256","name":"dynamicBalance","type":"int256"},{"internalType":"uint256","name":"deposit","type":"uint256"},{"internalType":"uint256","name":"owedDeposit","type":"uint256"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"address","name":"publisher","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"bytes","name":"ctx","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"revokeSubscription","outputs":[{"internalType":"bytes","name":"newCtx","type":"bytes"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"uint128","name":"indexValue","type":"uint128"},{"internalType":"bytes","name":"ctx","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"updateIndex","outputs":[{"internalType":"bytes","name":"newCtx","type":"bytes"}]},{"inputs":[{"internalType":"contract ISuperfluidToken","name":"token","type":"address"},{"internalType":"uint32","name":"indexId","type":"uint32"},{"internalType":"address","name":"subscriber","type":"address"},{"internalType":"uint128","name":"units","type":"uint128"},{"internalType":"bytes","name":"ctx","type":"bytes"}],"stateMutability":"nonpayable","type":"function","name":"updateSubscription","outputs":[{"internalType":"bytes","name":"newCtx","type":"bytes"}]}],"devdoc":{"kind":"dev","methods":{"agreementType()":{"details":"ISuperAgreement.agreementType implementation"},"approveSubscription(address,address,uint32,bytes)":{"custom:callbacks":" - if subscription exist   - AgreementCreated callback to the publisher:      - agreementId is for the subscription - if subscription does not exist   - AgreementUpdated callback to the publisher:      - agreementId is for the subscription","details":"Approve the subscription of an index","params":{"ctx":"Context bytes (see ISuperfluid.sol for Context struct)","indexId":"Id of the index","publisher":"The publisher of the index","token":"Super token address"}},"calculateDistribution(address,address,uint32,uint256)":{"details":"Calculate actual distribution amount","params":{"amount":"The amount of tokens desired to be distributed","indexId":"Id of the index","publisher":"The publisher of the index","token":"Super token address"},"returns":{"actualAmount":"The amount to be distributed after ensuring no rounding errors","newIndexValue":"The index value given the desired amount of tokens to be distributed"}},"claim(address,address,uint32,address,bytes)":{"custom:callbacks":" - AgreementUpdated callback to the publisher:    - agreementId is for the subscription","custom:note":"The subscription should not be approved yet","details":"Claim pending distributions","params":{"ctx":"Context bytes (see ISuperfluid.sol for Context struct)","indexId":"Id of the index","publisher":"The publisher of the index","subscriber":"The subscriber's address","token":"Super token address"}},"createIndex(address,uint32,bytes)":{"custom:callbacks":" None","details":"Create a new index for the publisher","params":{"ctx":"Context bytes (see ISuperfluid.sol for Context struct)","indexId":"Id of the index","token":"Super token address"}},"deleteSubscription(address,address,uint32,address,bytes)":{"custom:callbacks":" - if the subscriber called it   - AgreementTerminated callback to the publsiher:      - agreementId is for the subscription - if the publisher called it   - AgreementTerminated callback to the subscriber:      - agreementId is for the subscription","details":"Delete the subscription of an user","params":{"ctx":"Context bytes (see ISuperfluid.sol for Context struct)","indexId":"Id of the index","publisher":"The publisher of the index","subscriber":"The subscriber's address","token":"Super token address"}},"distribute(address,uint32,uint256,bytes)":{"custom:callbacks":" None","custom:note":" - This is a convenient version of updateIndex. It adds to the index   a delta that equals to `amount / totalUnits` - The actual amount distributed could be obtained via   `calculateDistribution`. This is due to precision error with index   value and units data range","details":"Distribute tokens through the index","params":{"amount":"The amount of tokens desired to be distributed","ctx":"Context bytes (see ISuperfluid.sol for Context struct)","indexId":"Id of the index","token":"Super token address"}},"getIndex(address,address,uint32)":{"details":"Query the data of a index","params":{"indexId":"Id of the index","publisher":"The publisher of the index","token":"Super token address"},"returns":{"exist":"Does the index exist","indexValue":"Value of the current index","totalUnitsApproved":"Total units approved for the index","totalUnitsPending":"Total units pending approval for the index"}},"getSubscription(address,address,uint32,address)":{"details":"Get data of a subscription","params":{"indexId":"Id of the index","publisher":"The publisher of the index","subscriber":"The subscriber of the index","token":"Super token address"},"returns":{"approved":"Is the subscription approved?","exist":"Does the subscription exist?","pendingDistribution":"Pending amount of tokens to be distributed for unapproved subscription","units":"Units of the suscription"}},"getSubscriptionByID(address,bytes32)":{"details":"indexId (agreementId) is the keccak256 hash of encodePacked(\"publisher\", publisher, indexId)","params":{"agreementId":"The agreement ID","token":"Super token address"},"returns":{"approved":"Is the subscription approved?","indexId":"Id of the index","pendingDistribution":"Pending amount of tokens to be distributed for unapproved subscription","publisher":"The publisher of the index","units":"Units of the suscription"}},"listSubscriptions(address,address)":{"details":"List subscriptions of an user","params":{"subscriber":"The subscriber's address","token":"Super token address"},"returns":{"indexIds":"Indexes of the subscriptions","publishers":"Publishers of the subcriptions","unitsList":"Units of the subscriptions"}},"realtimeBalanceOf(address,address,uint256)":{"details":"Calculate the real-time balance for the account of this agreement class","params":{"account":"Account the state belongs to","time":"Time used for the calculation"},"returns":{"deposit":"Account deposit amount of this agreement","dynamicBalance":"Dynamic balance portion of real-time balance of this agreement","owedDeposit":"Account owed deposit amount of this agreement"}},"revokeSubscription(address,address,uint32,bytes)":{"custom:callbacks":" - AgreementUpdated callback to the publisher:    - agreementId is for the subscription","details":"\"Unapproves\" the subscription and moves approved units to pending","params":{"ctx":"Context bytes (see ISuperfluid.sol for Context struct)","indexId":"Id of the index","publisher":"The publisher of the index","token":"Super token address"}},"updateIndex(address,uint32,uint128,bytes)":{"custom:callbacks":" None","details":"Update index value of an index","params":{"ctx":"Context bytes (see ISuperfluid.sol for Context struct)","indexId":"Id of the index","indexValue":"Value of the index","token":"Super token address"}},"updateSubscription(address,uint32,address,uint128,bytes)":{"custom:callbacks":" - if subscription exist   - AgreementCreated callback to the subscriber:      - agreementId is for the subscription - if subscription does not exist   - AgreementUpdated callback to the subscriber:      - agreementId is for the subscription","details":"Update the nuber of units of a subscription","params":{"ctx":"Context bytes (see ISuperfluid.sol for Context struct)","indexId":"Id of the index","subscriber":"The subscriber of the index","token":"Super token address","units":"Number of units of the subscription"}}},"version":1},"userdoc":{"kind":"user","methods":{"getSubscriptionByID(address,bytes32)":{"notice":"Get data of a subscription by agreement ID"},"revokeSubscription(address,address,uint32,bytes)":{"notice":"Revoke the subscription of an index"}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","@superfluid-finance/=lib/superfluid-protocol-monorepo/packages/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","openzeppelin/=lib/openzeppelin-contracts/contracts/","superfluid-protocol-monorepo/=lib/superfluid-protocol-monorepo/packages/solidity-semantic-money/src/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/agreements/IInstantDistributionAgreementV1.sol":"IInstantDistributionAgreementV1"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/agreements/IInstantDistributionAgreementV1.sol":{"keccak256":"0xac0ea75673feea931d1129ffff440390a0dd3a8f8cfa60fdb1481342652dc348","urls":["bzz-raw://a08777cd6701548c08f1f55d0ce86e0773a80ef28613852cd2f0552a2a24a387","dweb:/ipfs/QmTgWcQE6mNs3MLUCgqtnsC5UfYYQ9x3gsjXpvJdSe2WJg"],"license":"MIT"},"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/superfluid/ISuperAgreement.sol":{"keccak256":"0xba0407c47917aee8b6e7cea745332d2f7244cc3b91d249426f0105b365feb0ee","urls":["bzz-raw://4e8c38994af84e123476f8de8b81fe466e9a575374b13c38a4dc30bdd2d12c06","dweb:/ipfs/QmfHrSyeMQN7wVn7qmD6aPH1wX4ugkhQXiR8te6xhADGaK"],"license":"MIT"},"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/superfluid/ISuperfluidToken.sol":{"keccak256":"0x18ea972421ff57ce62103f90c820ee039f170f0189a4b3c73fd0ff09452d1dbf","urls":["bzz-raw://dd24799269920b4b7925362b41650b5b968bb957dc0dec50b451f5382fe573c1","dweb:/ipfs/QmbL19zzZZSbVu2gYA3FtJLu4kbCtk9BybxCU7oJfpUbE7"],"license":"MIT"}},"version":1},"ast":{"absolutePath":"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/agreements/IInstantDistributionAgreementV1.sol","id":66718,"exportedSymbols":{"IInstantDistributionAgreementV1":[66717],"ISuperAgreement":[67972],"ISuperfluidToken":[69787]},"nodeType":"SourceUnit","src":"32:18122:79","nodes":[{"id":66313,"nodeType":"PragmaDirective","src":"32:26:79","nodes":[],"literals":["solidity",">=","0.8",".11"]},{"id":66315,"nodeType":"ImportDirective","src":"60:68:79","nodes":[],"absolutePath":"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/superfluid/ISuperAgreement.sol","file":"../superfluid/ISuperAgreement.sol","nameLocation":"-1:-1:-1","scope":66718,"sourceUnit":67973,"symbolAliases":[{"foreign":{"id":66314,"name":"ISuperAgreement","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":67972,"src":"69:15:79","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":66317,"nodeType":"ImportDirective","src":"129:70:79","nodes":[],"absolutePath":"lib/superfluid-protocol-monorepo/packages/ethereum-contracts/contracts/interfaces/superfluid/ISuperfluidToken.sol","file":"../superfluid/ISuperfluidToken.sol","nameLocation":"-1:-1:-1","scope":66718,"sourceUnit":69788,"symbolAliases":[{"foreign":{"id":66316,"name":"ISuperfluidToken","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":69787,"src":"138:16:79","typeDescriptions":{}},"nameLocation":"-1:-1:-1"}],"unitAlias":""},{"id":66717,"nodeType":"ContractDefinition","src":"1781:16372:79","nodes":[{"id":66322,"nodeType":"ErrorDefinition","src":"2031:30:79","nodes":[],"errorSelector":"cfdca725","name":"IDA_INDEX_SHOULD_GROW","nameLocation":"2037:21:79","parameters":{"id":66321,"nodeType":"ParameterList","parameters":[],"src":"2058:2:79"}},{"id":66324,"nodeType":"ErrorDefinition","src":"2092:34:79","nodes":[],"errorSelector":"92da6d17","name":"IDA_OPERATION_NOT_ALLOWED","nameLocation":"2098:25:79","parameters":{"id":66323,"nodeType":"ParameterList","parameters":[],"src":"2123:2:79"}},{"id":66326,"nodeType":"ErrorDefinition","src":"2153:33:79","nodes":[],"errorSelector":"5c02a517","name":"IDA_INDEX_ALREADY_EXISTS","nameLocation":"2159:24:79","parameters":{"id":66325,"nodeType":"ParameterList","parameters":[],"src":"2183:2:79"}},{"id":66328,"nodeType":"ErrorDefinition","src":"2214:33:79","nodes":[],"errorSelector":"edeaa63b","name":"IDA_INDEX_DOES_NOT_EXIST","nameLocation":"2220:24:79","parameters":{"id":66327,"nodeType":"ParameterList","parameters":[],"src":"2244:2:79"}},{"id":66330,"nodeType":"ErrorDefinition","src":"2275:40:79","nodes":[],"errorSelector":"b6c8c980","name":"IDA_SUBSCRIPTION_DOES_NOT_EXIST","nameLocation":"2281:31:79","parameters":{"id":66329,"nodeType":"ParameterList","parameters":[],"src":"2312:2:79"}},{"id":66332,"nodeType":"ErrorDefinition","src":"2336:42:79","nodes":[],"errorSelector":"3eb2f849","name":"IDA_SUBSCRIPTION_ALREADY_APPROVED","nameLocation":"2342:33:79","parameters":{"id":66331,"nodeType":"ParameterList","parameters":[],"src":"2375:2:79"}},{"id":66334,"nodeType":"ErrorDefinition","src":"2397:41:79","nodes":[],"errorSelector":"37412573","name":"IDA_SUBSCRIPTION_IS_NOT_APPROVED","nameLocation":"2403:32:79","parameters":{"id":66333,"nodeType":"ParameterList","parameters":[],"src":"2435:2:79"}},{"id":66336,"nodeType":"ErrorDefinition","src":"2458:33:79","nodes":[],"errorSelector":"16e759bb","name":"IDA_INSUFFICIENT_BALANCE","nameLocation":"2464:24:79","parameters":{"id":66335,"nodeType":"ParameterList","parameters":[],"src":"2488:2:79"}},{"id":66338,"nodeType":"ErrorDefinition","src":"2519:36:79","nodes":[],"errorSelector":"c90a4674","name":"IDA_ZERO_ADDRESS_SUBSCRIBER","nameLocation":"2525:27:79","parameters":{"id":66337,"nodeType":"ParameterList","parameters":[],"src":"2552:2:79"}},{"id":66350,"nodeType":"FunctionDefinition","src":"2639:168:79","nodes":[],"body":{"id":66349,"nodeType":"Block","src":"2705:102:79","nodes":[],"statements":[{"expression":{"arguments":[{"hexValue":"6f72672e7375706572666c7569642d66696e616e63652e61677265656d656e74732e496e7374616e74446973747269627574696f6e41677265656d656e742e7631","id":66346,"isConstant":false,"isLValue":false,"isPure":true,"kind":"string","lValueRequested":false,"nodeType":"Literal","src":"2732:67:79","typeDescriptions":{"typeIdentifier":"t_stringliteral_8aedc3b5d4bf031e11a7e2940f7251c005698405d58e02e1c247fed3b1b3a674","typeString":"literal_string \"org.superfluid-finance.agreements.InstantDistributionAgreement.v1\""},"value":"org.superfluid-finance.agreements.InstantDistributionAgreement.v1"}],"expression":{"argumentTypes":[{"typeIdentifier":"t_stringliteral_8aedc3b5d4bf031e11a7e2940f7251c005698405d58e02e1c247fed3b1b3a674","typeString":"literal_string \"org.superfluid-finance.agreements.InstantDistributionAgreement.v1\""}],"id":66345,"name":"keccak256","nodeType":"Identifier","overloadedDeclarations":[],"referencedDeclaration":-8,"src":"2722:9:79","typeDescriptions":{"typeIdentifier":"t_function_keccak256_pure$_t_bytes_memory_ptr_$returns$_t_bytes32_$","typeString":"function (bytes memory) pure returns (bytes32)"}},"id":66347,"isConstant":false,"isLValue":false,"isPure":true,"kind":"functionCall","lValueRequested":false,"nameLocations":[],"names":[],"nodeType":"FunctionCall","src":"2722:78:79","tryCall":false,"typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"functionReturnParameters":66344,"id":66348,"nodeType":"Return","src":"2715:85:79"}]},"baseFunctions":[67954],"documentation":{"id":66339,"nodeType":"StructuredDocumentation","src":"2581:53:79","text":"@dev ISuperAgreement.agreementType implementation"},"functionSelector":"7730599e","implemented":true,"kind":"function","modifiers":[],"name":"agreementType","nameLocation":"2648:13:79","overrides":{"id":66341,"nodeType":"OverrideSpecifier","overrides":[],"src":"2673:8:79"},"parameters":{"id":66340,"nodeType":"ParameterList","parameters":[],"src":"2661:2:79"},"returnParameters":{"id":66344,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66343,"mutability":"mutable","name":"","nameLocation":"-1:-1:-1","nodeType":"VariableDeclaration","scope":66350,"src":"2696:7:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":66342,"name":"bytes32","nodeType":"ElementaryTypeName","src":"2696:7:79","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"2695:9:79"},"scope":66717,"stateMutability":"pure","virtual":false,"visibility":"external"},{"id":66363,"nodeType":"FunctionDefinition","src":"3259:188:79","nodes":[],"documentation":{"id":66351,"nodeType":"StructuredDocumentation","src":"2998:256:79","text":" @dev Create a new index for the publisher\n @param token Super token address\n @param indexId Id of the index\n @param ctx Context bytes (see ISuperfluid.sol for Context struct)\n @custom:callbacks \n None"},"functionSelector":"d787840a","implemented":false,"kind":"function","modifiers":[],"name":"createIndex","nameLocation":"3268:11:79","parameters":{"id":66359,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66354,"mutability":"mutable","name":"token","nameLocation":"3306:5:79","nodeType":"VariableDeclaration","scope":66363,"src":"3289:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66353,"nodeType":"UserDefinedTypeName","pathNode":{"id":66352,"name":"ISuperfluidToken","nameLocations":["3289:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"3289:16:79"},"referencedDeclaration":69787,"src":"3289:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66356,"mutability":"mutable","name":"indexId","nameLocation":"3328:7:79","nodeType":"VariableDeclaration","scope":66363,"src":"3321:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66355,"name":"uint32","nodeType":"ElementaryTypeName","src":"3321:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66358,"mutability":"mutable","name":"ctx","nameLocation":"3360:3:79","nodeType":"VariableDeclaration","scope":66363,"src":"3345:18:79","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":66357,"name":"bytes","nodeType":"ElementaryTypeName","src":"3345:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3279:85:79"},"returnParameters":{"id":66362,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66361,"mutability":"mutable","name":"newCtx","nameLocation":"3439:6:79","nodeType":"VariableDeclaration","scope":66363,"src":"3426:19:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66360,"name":"bytes","nodeType":"ElementaryTypeName","src":"3426:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3425:21:79"},"scope":66717,"stateMutability":"nonpayable","virtual":true,"visibility":"external"},{"id":66375,"nodeType":"EventDefinition","src":"3703:151:79","nodes":[],"anonymous":false,"documentation":{"id":66364,"nodeType":"StructuredDocumentation","src":"3452:246:79","text":" @dev Index created event\n @param token Super token address\n @param publisher Index creator and publisher\n @param indexId The specified indexId of the newly created index\n @param userData The user provided data"},"eventSelector":"01ab8663165edfb7390d9e5f75d960a66dacf4f01fa9787e3a731c870d0da921","name":"IndexCreated","nameLocation":"3709:12:79","parameters":{"id":66374,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66367,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"3756:5:79","nodeType":"VariableDeclaration","scope":66375,"src":"3731:30:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66366,"nodeType":"UserDefinedTypeName","pathNode":{"id":66365,"name":"ISuperfluidToken","nameLocations":["3731:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"3731:16:79"},"referencedDeclaration":69787,"src":"3731:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66369,"indexed":true,"mutability":"mutable","name":"publisher","nameLocation":"3787:9:79","nodeType":"VariableDeclaration","scope":66375,"src":"3771:25:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66368,"name":"address","nodeType":"ElementaryTypeName","src":"3771:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66371,"indexed":true,"mutability":"mutable","name":"indexId","nameLocation":"3821:7:79","nodeType":"VariableDeclaration","scope":66375,"src":"3806:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66370,"name":"uint32","nodeType":"ElementaryTypeName","src":"3806:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66373,"indexed":false,"mutability":"mutable","name":"userData","nameLocation":"3844:8:79","nodeType":"VariableDeclaration","scope":66375,"src":"3838:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66372,"name":"bytes","nodeType":"ElementaryTypeName","src":"3838:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"3721:132:79"}},{"id":66394,"nodeType":"FunctionDefinition","src":"4283:332:79","nodes":[],"documentation":{"id":66376,"nodeType":"StructuredDocumentation","src":"3860:418:79","text":" @dev Query the data of a index\n @param token Super token address\n @param publisher The publisher of the index\n @param indexId Id of the index\n @return exist Does the index exist\n @return indexValue Value of the current index\n @return totalUnitsApproved Total units approved for the index\n @return totalUnitsPending Total units pending approval for the index"},"functionSelector":"23fc23f3","implemented":false,"kind":"function","modifiers":[],"name":"getIndex","nameLocation":"4292:8:79","parameters":{"id":66384,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66379,"mutability":"mutable","name":"token","nameLocation":"4327:5:79","nodeType":"VariableDeclaration","scope":66394,"src":"4310:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66378,"nodeType":"UserDefinedTypeName","pathNode":{"id":66377,"name":"ISuperfluidToken","nameLocations":["4310:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"4310:16:79"},"referencedDeclaration":69787,"src":"4310:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66381,"mutability":"mutable","name":"publisher","nameLocation":"4350:9:79","nodeType":"VariableDeclaration","scope":66394,"src":"4342:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66380,"name":"address","nodeType":"ElementaryTypeName","src":"4342:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66383,"mutability":"mutable","name":"indexId","nameLocation":"4376:7:79","nodeType":"VariableDeclaration","scope":66394,"src":"4369:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66382,"name":"uint32","nodeType":"ElementaryTypeName","src":"4369:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"}],"src":"4300:84:79"},"returnParameters":{"id":66393,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66386,"mutability":"mutable","name":"exist","nameLocation":"4485:5:79","nodeType":"VariableDeclaration","scope":66394,"src":"4480:10:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":66385,"name":"bool","nodeType":"ElementaryTypeName","src":"4480:4:79","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":66388,"mutability":"mutable","name":"indexValue","nameLocation":"4516:10:79","nodeType":"VariableDeclaration","scope":66394,"src":"4508:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66387,"name":"uint128","nodeType":"ElementaryTypeName","src":"4508:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66390,"mutability":"mutable","name":"totalUnitsApproved","nameLocation":"4552:18:79","nodeType":"VariableDeclaration","scope":66394,"src":"4544:26:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66389,"name":"uint128","nodeType":"ElementaryTypeName","src":"4544:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66392,"mutability":"mutable","name":"totalUnitsPending","nameLocation":"4596:17:79","nodeType":"VariableDeclaration","scope":66394,"src":"4588:25:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66391,"name":"uint128","nodeType":"ElementaryTypeName","src":"4588:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"4462:152:79"},"scope":66717,"stateMutability":"view","virtual":true,"visibility":"external"},{"id":66411,"nodeType":"FunctionDefinition","src":"5072:274:79","nodes":[],"documentation":{"id":66395,"nodeType":"StructuredDocumentation","src":"4621:446:79","text":" @dev Calculate actual distribution amount\n @param token Super token address\n @param publisher The publisher of the index\n @param indexId Id of the index\n @param amount The amount of tokens desired to be distributed\n @return actualAmount The amount to be distributed after ensuring no rounding errors\n @return newIndexValue The index value given the desired amount of tokens to be distributed"},"functionSelector":"899baaec","implemented":false,"kind":"function","modifiers":[],"name":"calculateDistribution","nameLocation":"5081:21:79","parameters":{"id":66405,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66398,"mutability":"mutable","name":"token","nameLocation":"5128:5:79","nodeType":"VariableDeclaration","scope":66411,"src":"5111:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66397,"nodeType":"UserDefinedTypeName","pathNode":{"id":66396,"name":"ISuperfluidToken","nameLocations":["5111:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"5111:16:79"},"referencedDeclaration":69787,"src":"5111:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66400,"mutability":"mutable","name":"publisher","nameLocation":"5150:9:79","nodeType":"VariableDeclaration","scope":66411,"src":"5142:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66399,"name":"address","nodeType":"ElementaryTypeName","src":"5142:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66402,"mutability":"mutable","name":"indexId","nameLocation":"5175:7:79","nodeType":"VariableDeclaration","scope":66411,"src":"5168:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66401,"name":"uint32","nodeType":"ElementaryTypeName","src":"5168:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66404,"mutability":"mutable","name":"amount","nameLocation":"5199:6:79","nodeType":"VariableDeclaration","scope":66411,"src":"5191:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":66403,"name":"uint256","nodeType":"ElementaryTypeName","src":"5191:7:79","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"5102:104:79"},"returnParameters":{"id":66410,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66407,"mutability":"mutable","name":"actualAmount","nameLocation":"5294:12:79","nodeType":"VariableDeclaration","scope":66411,"src":"5286:20:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":66406,"name":"uint256","nodeType":"ElementaryTypeName","src":"5286:7:79","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":66409,"mutability":"mutable","name":"newIndexValue","nameLocation":"5331:13:79","nodeType":"VariableDeclaration","scope":66411,"src":"5323:21:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66408,"name":"uint128","nodeType":"ElementaryTypeName","src":"5323:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"}],"src":"5269:76:79"},"scope":66717,"stateMutability":"view","virtual":true,"visibility":"external"},{"id":66426,"nodeType":"FunctionDefinition","src":"5651:216:79","nodes":[],"documentation":{"id":66412,"nodeType":"StructuredDocumentation","src":"5352:294:79","text":" @dev Update index value of an index\n @param token Super token address\n @param indexId Id of the index\n @param indexValue Value of the index\n @param ctx Context bytes (see ISuperfluid.sol for Context struct)\n @custom:callbacks \n None"},"functionSelector":"7fbc7639","implemented":false,"kind":"function","modifiers":[],"name":"updateIndex","nameLocation":"5660:11:79","parameters":{"id":66422,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66415,"mutability":"mutable","name":"token","nameLocation":"5698:5:79","nodeType":"VariableDeclaration","scope":66426,"src":"5681:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66414,"nodeType":"UserDefinedTypeName","pathNode":{"id":66413,"name":"ISuperfluidToken","nameLocations":["5681:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"5681:16:79"},"referencedDeclaration":69787,"src":"5681:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66417,"mutability":"mutable","name":"indexId","nameLocation":"5720:7:79","nodeType":"VariableDeclaration","scope":66426,"src":"5713:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66416,"name":"uint32","nodeType":"ElementaryTypeName","src":"5713:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66419,"mutability":"mutable","name":"indexValue","nameLocation":"5745:10:79","nodeType":"VariableDeclaration","scope":66426,"src":"5737:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66418,"name":"uint128","nodeType":"ElementaryTypeName","src":"5737:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66421,"mutability":"mutable","name":"ctx","nameLocation":"5780:3:79","nodeType":"VariableDeclaration","scope":66426,"src":"5765:18:79","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":66420,"name":"bytes","nodeType":"ElementaryTypeName","src":"5765:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"5671:113:79"},"returnParameters":{"id":66425,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66424,"mutability":"mutable","name":"newCtx","nameLocation":"5859:6:79","nodeType":"VariableDeclaration","scope":66426,"src":"5846:19:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66423,"name":"bytes","nodeType":"ElementaryTypeName","src":"5846:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"5845:21:79"},"scope":66717,"stateMutability":"nonpayable","virtual":true,"visibility":"external"},{"id":66446,"nodeType":"EventDefinition","src":"6416:284:79","nodes":[],"anonymous":false,"documentation":{"id":66427,"nodeType":"StructuredDocumentation","src":"5872:539:79","text":" @dev Index updated event\n @param token Super token address\n @param publisher Index updater and publisher\n @param indexId The specified indexId of the updated index\n @param oldIndexValue The previous index value\n @param newIndexValue The updated index value\n @param totalUnitsPending The total units pending when the indexValue was updated\n @param totalUnitsApproved The total units approved when the indexValue was updated\n @param userData The user provided data"},"eventSelector":"81e37f3d9f16cbf29a62d6a1c21d79b23ef29b54124ec44af43a50fffb9304f3","name":"IndexUpdated","nameLocation":"6422:12:79","parameters":{"id":66445,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66430,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"6469:5:79","nodeType":"VariableDeclaration","scope":66446,"src":"6444:30:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66429,"nodeType":"UserDefinedTypeName","pathNode":{"id":66428,"name":"ISuperfluidToken","nameLocations":["6444:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"6444:16:79"},"referencedDeclaration":69787,"src":"6444:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66432,"indexed":true,"mutability":"mutable","name":"publisher","nameLocation":"6500:9:79","nodeType":"VariableDeclaration","scope":66446,"src":"6484:25:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66431,"name":"address","nodeType":"ElementaryTypeName","src":"6484:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66434,"indexed":true,"mutability":"mutable","name":"indexId","nameLocation":"6534:7:79","nodeType":"VariableDeclaration","scope":66446,"src":"6519:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66433,"name":"uint32","nodeType":"ElementaryTypeName","src":"6519:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66436,"indexed":false,"mutability":"mutable","name":"oldIndexValue","nameLocation":"6559:13:79","nodeType":"VariableDeclaration","scope":66446,"src":"6551:21:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66435,"name":"uint128","nodeType":"ElementaryTypeName","src":"6551:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66438,"indexed":false,"mutability":"mutable","name":"newIndexValue","nameLocation":"6590:13:79","nodeType":"VariableDeclaration","scope":66446,"src":"6582:21:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66437,"name":"uint128","nodeType":"ElementaryTypeName","src":"6582:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66440,"indexed":false,"mutability":"mutable","name":"totalUnitsPending","nameLocation":"6621:17:79","nodeType":"VariableDeclaration","scope":66446,"src":"6613:25:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66439,"name":"uint128","nodeType":"ElementaryTypeName","src":"6613:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66442,"indexed":false,"mutability":"mutable","name":"totalUnitsApproved","nameLocation":"6656:18:79","nodeType":"VariableDeclaration","scope":66446,"src":"6648:26:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66441,"name":"uint128","nodeType":"ElementaryTypeName","src":"6648:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66444,"indexed":false,"mutability":"mutable","name":"userData","nameLocation":"6690:8:79","nodeType":"VariableDeclaration","scope":66446,"src":"6684:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66443,"name":"bytes","nodeType":"ElementaryTypeName","src":"6684:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"6434:265:79"}},{"id":66461,"nodeType":"FunctionDefinition","src":"7364:211:79","nodes":[],"documentation":{"id":66447,"nodeType":"StructuredDocumentation","src":"6706:653:79","text":" @dev Distribute tokens through the index\n @param token Super token address\n @param indexId Id of the index\n @param amount The amount of tokens desired to be distributed\n @param ctx Context bytes (see ISuperfluid.sol for Context struct)\n @custom:note \n - This is a convenient version of updateIndex. It adds to the index\n   a delta that equals to `amount / totalUnits`\n - The actual amount distributed could be obtained via\n   `calculateDistribution`. This is due to precision error with index\n   value and units data range\n @custom:callbacks \n None"},"functionSelector":"b96731c2","implemented":false,"kind":"function","modifiers":[],"name":"distribute","nameLocation":"7373:10:79","parameters":{"id":66457,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66450,"mutability":"mutable","name":"token","nameLocation":"7410:5:79","nodeType":"VariableDeclaration","scope":66461,"src":"7393:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66449,"nodeType":"UserDefinedTypeName","pathNode":{"id":66448,"name":"ISuperfluidToken","nameLocations":["7393:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"7393:16:79"},"referencedDeclaration":69787,"src":"7393:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66452,"mutability":"mutable","name":"indexId","nameLocation":"7432:7:79","nodeType":"VariableDeclaration","scope":66461,"src":"7425:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66451,"name":"uint32","nodeType":"ElementaryTypeName","src":"7425:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66454,"mutability":"mutable","name":"amount","nameLocation":"7457:6:79","nodeType":"VariableDeclaration","scope":66461,"src":"7449:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":66453,"name":"uint256","nodeType":"ElementaryTypeName","src":"7449:7:79","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"},{"constant":false,"id":66456,"mutability":"mutable","name":"ctx","nameLocation":"7488:3:79","nodeType":"VariableDeclaration","scope":66461,"src":"7473:18:79","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":66455,"name":"bytes","nodeType":"ElementaryTypeName","src":"7473:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"7383:109:79"},"returnParameters":{"id":66460,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66459,"mutability":"mutable","name":"newCtx","nameLocation":"7567:6:79","nodeType":"VariableDeclaration","scope":66461,"src":"7554:19:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66458,"name":"bytes","nodeType":"ElementaryTypeName","src":"7554:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"7553:21:79"},"scope":66717,"stateMutability":"nonpayable","virtual":true,"visibility":"external"},{"id":66476,"nodeType":"FunctionDefinition","src":"8355:223:79","nodes":[],"documentation":{"id":66462,"nodeType":"StructuredDocumentation","src":"7774:576:79","text":" @dev Approve the subscription of an index\n @param token Super token address\n @param publisher The publisher of the index\n @param indexId Id of the index\n @param ctx Context bytes (see ISuperfluid.sol for Context struct)\n @custom:callbacks \n - if subscription exist\n   - AgreementCreated callback to the publisher:\n      - agreementId is for the subscription\n - if subscription does not exist\n   - AgreementUpdated callback to the publisher:\n      - agreementId is for the subscription"},"functionSelector":"acf4a6c2","implemented":false,"kind":"function","modifiers":[],"name":"approveSubscription","nameLocation":"8364:19:79","parameters":{"id":66472,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66465,"mutability":"mutable","name":"token","nameLocation":"8410:5:79","nodeType":"VariableDeclaration","scope":66476,"src":"8393:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66464,"nodeType":"UserDefinedTypeName","pathNode":{"id":66463,"name":"ISuperfluidToken","nameLocations":["8393:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"8393:16:79"},"referencedDeclaration":69787,"src":"8393:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66467,"mutability":"mutable","name":"publisher","nameLocation":"8433:9:79","nodeType":"VariableDeclaration","scope":66476,"src":"8425:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66466,"name":"address","nodeType":"ElementaryTypeName","src":"8425:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66469,"mutability":"mutable","name":"indexId","nameLocation":"8459:7:79","nodeType":"VariableDeclaration","scope":66476,"src":"8452:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66468,"name":"uint32","nodeType":"ElementaryTypeName","src":"8452:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66471,"mutability":"mutable","name":"ctx","nameLocation":"8491:3:79","nodeType":"VariableDeclaration","scope":66476,"src":"8476:18:79","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":66470,"name":"bytes","nodeType":"ElementaryTypeName","src":"8476:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"8383:112:79"},"returnParameters":{"id":66475,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66474,"mutability":"mutable","name":"newCtx","nameLocation":"8570:6:79","nodeType":"VariableDeclaration","scope":66476,"src":"8557:19:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66473,"name":"bytes","nodeType":"ElementaryTypeName","src":"8557:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"8556:21:79"},"scope":66717,"stateMutability":"nonpayable","virtual":true,"visibility":"external"},{"id":66490,"nodeType":"EventDefinition","src":"8860:182:79","nodes":[],"anonymous":false,"documentation":{"id":66477,"nodeType":"StructuredDocumentation","src":"8583:272:79","text":" @dev Index subscribed event\n @param token Super token address\n @param publisher Index publisher\n @param indexId The specified indexId\n @param subscriber The approved subscriber\n @param userData The user provided data"},"eventSelector":"492d2641617cfaf24ac7328f85bc5bdf5113537d78dc7671afa4f49a73f053c2","name":"IndexSubscribed","nameLocation":"8866:15:79","parameters":{"id":66489,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66480,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"8916:5:79","nodeType":"VariableDeclaration","scope":66490,"src":"8891:30:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66479,"nodeType":"UserDefinedTypeName","pathNode":{"id":66478,"name":"ISuperfluidToken","nameLocations":["8891:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"8891:16:79"},"referencedDeclaration":69787,"src":"8891:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66482,"indexed":true,"mutability":"mutable","name":"publisher","nameLocation":"8947:9:79","nodeType":"VariableDeclaration","scope":66490,"src":"8931:25:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66481,"name":"address","nodeType":"ElementaryTypeName","src":"8931:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66484,"indexed":true,"mutability":"mutable","name":"indexId","nameLocation":"8981:7:79","nodeType":"VariableDeclaration","scope":66490,"src":"8966:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66483,"name":"uint32","nodeType":"ElementaryTypeName","src":"8966:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66486,"indexed":false,"mutability":"mutable","name":"subscriber","nameLocation":"9006:10:79","nodeType":"VariableDeclaration","scope":66490,"src":"8998:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66485,"name":"address","nodeType":"ElementaryTypeName","src":"8998:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66488,"indexed":false,"mutability":"mutable","name":"userData","nameLocation":"9032:8:79","nodeType":"VariableDeclaration","scope":66490,"src":"9026:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66487,"name":"bytes","nodeType":"ElementaryTypeName","src":"9026:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"8881:160:79"}},{"id":66504,"nodeType":"EventDefinition","src":"9330:179:79","nodes":[],"anonymous":false,"documentation":{"id":66491,"nodeType":"StructuredDocumentation","src":"9048:277:79","text":" @dev Subscription approved event\n @param token Super token address\n @param subscriber The approved subscriber\n @param publisher Index publisher\n @param indexId The specified indexId\n @param userData The user provided data"},"eventSelector":"c0b8396b655615cdb85fe462a9a1792480816f909cd46d9517a940b386dfbf6b","name":"SubscriptionApproved","nameLocation":"9336:20:79","parameters":{"id":66503,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66494,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"9391:5:79","nodeType":"VariableDeclaration","scope":66504,"src":"9366:30:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66493,"nodeType":"UserDefinedTypeName","pathNode":{"id":66492,"name":"ISuperfluidToken","nameLocations":["9366:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"9366:16:79"},"referencedDeclaration":69787,"src":"9366:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66496,"indexed":true,"mutability":"mutable","name":"subscriber","nameLocation":"9422:10:79","nodeType":"VariableDeclaration","scope":66504,"src":"9406:26:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66495,"name":"address","nodeType":"ElementaryTypeName","src":"9406:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66498,"indexed":false,"mutability":"mutable","name":"publisher","nameLocation":"9450:9:79","nodeType":"VariableDeclaration","scope":66504,"src":"9442:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66497,"name":"address","nodeType":"ElementaryTypeName","src":"9442:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66500,"indexed":false,"mutability":"mutable","name":"indexId","nameLocation":"9476:7:79","nodeType":"VariableDeclaration","scope":66504,"src":"9469:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66499,"name":"uint32","nodeType":"ElementaryTypeName","src":"9469:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66502,"indexed":false,"mutability":"mutable","name":"userData","nameLocation":"9499:8:79","nodeType":"VariableDeclaration","scope":66504,"src":"9493:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66501,"name":"bytes","nodeType":"ElementaryTypeName","src":"9493:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"9356:152:79"}},{"id":66519,"nodeType":"FunctionDefinition","src":"9985:213:79","nodes":[],"documentation":{"id":66505,"nodeType":"StructuredDocumentation","src":"9515:465:79","text":" @notice Revoke the subscription of an index\n @dev \"Unapproves\" the subscription and moves approved units to pending\n @param token Super token address\n @param publisher The publisher of the index\n @param indexId Id of the index\n @param ctx Context bytes (see ISuperfluid.sol for Context struct)\n @custom:callbacks \n - AgreementUpdated callback to the publisher:\n    - agreementId is for the subscription"},"functionSelector":"6041ae96","implemented":false,"kind":"function","modifiers":[],"name":"revokeSubscription","nameLocation":"9994:18:79","parameters":{"id":66515,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66508,"mutability":"mutable","name":"token","nameLocation":"10039:5:79","nodeType":"VariableDeclaration","scope":66519,"src":"10022:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66507,"nodeType":"UserDefinedTypeName","pathNode":{"id":66506,"name":"ISuperfluidToken","nameLocations":["10022:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"10022:16:79"},"referencedDeclaration":69787,"src":"10022:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66510,"mutability":"mutable","name":"publisher","nameLocation":"10062:9:79","nodeType":"VariableDeclaration","scope":66519,"src":"10054:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66509,"name":"address","nodeType":"ElementaryTypeName","src":"10054:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66512,"mutability":"mutable","name":"indexId","nameLocation":"10088:7:79","nodeType":"VariableDeclaration","scope":66519,"src":"10081:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66511,"name":"uint32","nodeType":"ElementaryTypeName","src":"10081:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66514,"mutability":"mutable","name":"ctx","nameLocation":"10120:3:79","nodeType":"VariableDeclaration","scope":66519,"src":"10105:18:79","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":66513,"name":"bytes","nodeType":"ElementaryTypeName","src":"10105:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"10012:112:79"},"returnParameters":{"id":66518,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66517,"mutability":"mutable","name":"newCtx","nameLocation":"10190:6:79","nodeType":"VariableDeclaration","scope":66519,"src":"10177:19:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66516,"name":"bytes","nodeType":"ElementaryTypeName","src":"10177:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"10176:21:79"},"scope":66717,"stateMutability":"nonpayable","virtual":true,"visibility":"external"},{"id":66533,"nodeType":"EventDefinition","src":"10486:184:79","nodes":[],"anonymous":false,"documentation":{"id":66520,"nodeType":"StructuredDocumentation","src":"10203:278:79","text":" @dev Index unsubscribed event\n @param token Super token address\n @param publisher Index publisher\n @param indexId The specified indexId\n @param subscriber The unsubscribed subscriber\n @param userData The user provided data"},"eventSelector":"e1f8e9cd8061e5b251769965bda6ca9ef1674bc6541fb9131039fa53f024d142","name":"IndexUnsubscribed","nameLocation":"10492:17:79","parameters":{"id":66532,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66523,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"10544:5:79","nodeType":"VariableDeclaration","scope":66533,"src":"10519:30:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66522,"nodeType":"UserDefinedTypeName","pathNode":{"id":66521,"name":"ISuperfluidToken","nameLocations":["10519:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"10519:16:79"},"referencedDeclaration":69787,"src":"10519:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66525,"indexed":true,"mutability":"mutable","name":"publisher","nameLocation":"10575:9:79","nodeType":"VariableDeclaration","scope":66533,"src":"10559:25:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66524,"name":"address","nodeType":"ElementaryTypeName","src":"10559:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66527,"indexed":true,"mutability":"mutable","name":"indexId","nameLocation":"10609:7:79","nodeType":"VariableDeclaration","scope":66533,"src":"10594:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66526,"name":"uint32","nodeType":"ElementaryTypeName","src":"10594:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66529,"indexed":false,"mutability":"mutable","name":"subscriber","nameLocation":"10634:10:79","nodeType":"VariableDeclaration","scope":66533,"src":"10626:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66528,"name":"address","nodeType":"ElementaryTypeName","src":"10626:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66531,"indexed":false,"mutability":"mutable","name":"userData","nameLocation":"10660:8:79","nodeType":"VariableDeclaration","scope":66533,"src":"10654:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66530,"name":"bytes","nodeType":"ElementaryTypeName","src":"10654:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"10509:160:79"}},{"id":66547,"nodeType":"EventDefinition","src":"10962:178:79","nodes":[],"anonymous":false,"documentation":{"id":66534,"nodeType":"StructuredDocumentation","src":"10680:277:79","text":" @dev Subscription approved event\n @param token Super token address\n @param subscriber The approved subscriber\n @param publisher Index publisher\n @param indexId The specified indexId\n @param userData The user provided data"},"eventSelector":"9e02127550b99adc8cc6ee332a36f31338facdbc396cebefce9a047247cd0455","name":"SubscriptionRevoked","nameLocation":"10968:19:79","parameters":{"id":66546,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66537,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"11022:5:79","nodeType":"VariableDeclaration","scope":66547,"src":"10997:30:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66536,"nodeType":"UserDefinedTypeName","pathNode":{"id":66535,"name":"ISuperfluidToken","nameLocations":["10997:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"10997:16:79"},"referencedDeclaration":69787,"src":"10997:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66539,"indexed":true,"mutability":"mutable","name":"subscriber","nameLocation":"11053:10:79","nodeType":"VariableDeclaration","scope":66547,"src":"11037:26:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66538,"name":"address","nodeType":"ElementaryTypeName","src":"11037:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66541,"indexed":false,"mutability":"mutable","name":"publisher","nameLocation":"11081:9:79","nodeType":"VariableDeclaration","scope":66547,"src":"11073:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66540,"name":"address","nodeType":"ElementaryTypeName","src":"11073:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66543,"indexed":false,"mutability":"mutable","name":"indexId","nameLocation":"11107:7:79","nodeType":"VariableDeclaration","scope":66547,"src":"11100:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66542,"name":"uint32","nodeType":"ElementaryTypeName","src":"11100:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66545,"indexed":false,"mutability":"mutable","name":"userData","nameLocation":"11130:8:79","nodeType":"VariableDeclaration","scope":66547,"src":"11124:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66544,"name":"bytes","nodeType":"ElementaryTypeName","src":"11124:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"10987:152:79"}},{"id":66564,"nodeType":"FunctionDefinition","src":"11794:246:79","nodes":[],"documentation":{"id":66548,"nodeType":"StructuredDocumentation","src":"11146:643:79","text":" @dev Update the nuber of units of a subscription\n @param token Super token address\n @param indexId Id of the index\n @param subscriber The subscriber of the index\n @param units Number of units of the subscription\n @param ctx Context bytes (see ISuperfluid.sol for Context struct)\n @custom:callbacks \n - if subscription exist\n   - AgreementCreated callback to the subscriber:\n      - agreementId is for the subscription\n - if subscription does not exist\n   - AgreementUpdated callback to the subscriber:\n      - agreementId is for the subscription"},"functionSelector":"232d2b58","implemented":false,"kind":"function","modifiers":[],"name":"updateSubscription","nameLocation":"11803:18:79","parameters":{"id":66560,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66551,"mutability":"mutable","name":"token","nameLocation":"11848:5:79","nodeType":"VariableDeclaration","scope":66564,"src":"11831:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66550,"nodeType":"UserDefinedTypeName","pathNode":{"id":66549,"name":"ISuperfluidToken","nameLocations":["11831:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"11831:16:79"},"referencedDeclaration":69787,"src":"11831:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66553,"mutability":"mutable","name":"indexId","nameLocation":"11870:7:79","nodeType":"VariableDeclaration","scope":66564,"src":"11863:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66552,"name":"uint32","nodeType":"ElementaryTypeName","src":"11863:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66555,"mutability":"mutable","name":"subscriber","nameLocation":"11895:10:79","nodeType":"VariableDeclaration","scope":66564,"src":"11887:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66554,"name":"address","nodeType":"ElementaryTypeName","src":"11887:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66557,"mutability":"mutable","name":"units","nameLocation":"11923:5:79","nodeType":"VariableDeclaration","scope":66564,"src":"11915:13:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66556,"name":"uint128","nodeType":"ElementaryTypeName","src":"11915:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66559,"mutability":"mutable","name":"ctx","nameLocation":"11953:3:79","nodeType":"VariableDeclaration","scope":66564,"src":"11938:18:79","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":66558,"name":"bytes","nodeType":"ElementaryTypeName","src":"11938:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"11821:136:79"},"returnParameters":{"id":66563,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66562,"mutability":"mutable","name":"newCtx","nameLocation":"12032:6:79","nodeType":"VariableDeclaration","scope":66564,"src":"12019:19:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66561,"name":"bytes","nodeType":"ElementaryTypeName","src":"12019:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"12018:21:79"},"scope":66717,"stateMutability":"nonpayable","virtual":true,"visibility":"external"},{"id":66580,"nodeType":"EventDefinition","src":"12373:207:79","nodes":[],"anonymous":false,"documentation":{"id":66565,"nodeType":"StructuredDocumentation","src":"12046:322:79","text":" @dev Index units updated event\n @param token Super token address\n @param publisher Index publisher\n @param indexId The specified indexId\n @param subscriber The subscriber units updated\n @param units The new units amount\n @param userData The user provided data"},"eventSelector":"0115987243fd19d615b5ea62a80372a06a2b37fec378b148ee7a507c5c4c0a39","name":"IndexUnitsUpdated","nameLocation":"12379:17:79","parameters":{"id":66579,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66568,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"12431:5:79","nodeType":"VariableDeclaration","scope":66580,"src":"12406:30:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66567,"nodeType":"UserDefinedTypeName","pathNode":{"id":66566,"name":"ISuperfluidToken","nameLocations":["12406:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"12406:16:79"},"referencedDeclaration":69787,"src":"12406:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66570,"indexed":true,"mutability":"mutable","name":"publisher","nameLocation":"12462:9:79","nodeType":"VariableDeclaration","scope":66580,"src":"12446:25:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66569,"name":"address","nodeType":"ElementaryTypeName","src":"12446:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66572,"indexed":true,"mutability":"mutable","name":"indexId","nameLocation":"12496:7:79","nodeType":"VariableDeclaration","scope":66580,"src":"12481:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66571,"name":"uint32","nodeType":"ElementaryTypeName","src":"12481:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66574,"indexed":false,"mutability":"mutable","name":"subscriber","nameLocation":"12521:10:79","nodeType":"VariableDeclaration","scope":66580,"src":"12513:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66573,"name":"address","nodeType":"ElementaryTypeName","src":"12513:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66576,"indexed":false,"mutability":"mutable","name":"units","nameLocation":"12549:5:79","nodeType":"VariableDeclaration","scope":66580,"src":"12541:13:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66575,"name":"uint128","nodeType":"ElementaryTypeName","src":"12541:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66578,"indexed":false,"mutability":"mutable","name":"userData","nameLocation":"12570:8:79","nodeType":"VariableDeclaration","scope":66580,"src":"12564:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66577,"name":"bytes","nodeType":"ElementaryTypeName","src":"12564:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"12396:183:79"}},{"id":66596,"nodeType":"EventDefinition","src":"12924:206:79","nodes":[],"anonymous":false,"documentation":{"id":66581,"nodeType":"StructuredDocumentation","src":"12590:329:79","text":" @dev Subscription units updated event\n @param token Super token address\n @param subscriber The subscriber units updated\n @param indexId The specified indexId\n @param publisher Index publisher\n @param units The new units amount\n @param userData The user provided data"},"eventSelector":"e0707ac7efb8b59c22189af8d004ed17dc9e4379e71b9066119b62c182524977","name":"SubscriptionUnitsUpdated","nameLocation":"12930:24:79","parameters":{"id":66595,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66584,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"12989:5:79","nodeType":"VariableDeclaration","scope":66596,"src":"12964:30:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66583,"nodeType":"UserDefinedTypeName","pathNode":{"id":66582,"name":"ISuperfluidToken","nameLocations":["12964:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"12964:16:79"},"referencedDeclaration":69787,"src":"12964:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66586,"indexed":true,"mutability":"mutable","name":"subscriber","nameLocation":"13020:10:79","nodeType":"VariableDeclaration","scope":66596,"src":"13004:26:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66585,"name":"address","nodeType":"ElementaryTypeName","src":"13004:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66588,"indexed":false,"mutability":"mutable","name":"publisher","nameLocation":"13048:9:79","nodeType":"VariableDeclaration","scope":66596,"src":"13040:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66587,"name":"address","nodeType":"ElementaryTypeName","src":"13040:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66590,"indexed":false,"mutability":"mutable","name":"indexId","nameLocation":"13074:7:79","nodeType":"VariableDeclaration","scope":66596,"src":"13067:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66589,"name":"uint32","nodeType":"ElementaryTypeName","src":"13067:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66592,"indexed":false,"mutability":"mutable","name":"units","nameLocation":"13099:5:79","nodeType":"VariableDeclaration","scope":66596,"src":"13091:13:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66591,"name":"uint128","nodeType":"ElementaryTypeName","src":"13091:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66594,"indexed":false,"mutability":"mutable","name":"userData","nameLocation":"13120:8:79","nodeType":"VariableDeclaration","scope":66596,"src":"13114:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66593,"name":"bytes","nodeType":"ElementaryTypeName","src":"13114:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"12954:175:79"}},{"id":66617,"nodeType":"FunctionDefinition","src":"13629:364:79","nodes":[],"documentation":{"id":66597,"nodeType":"StructuredDocumentation","src":"13136:488:79","text":" @dev Get data of a subscription\n @param token Super token address\n @param publisher The publisher of the index\n @param indexId Id of the index\n @param subscriber The subscriber of the index\n @return exist Does the subscription exist?\n @return approved Is the subscription approved?\n @return units Units of the suscription\n @return pendingDistribution Pending amount of tokens to be distributed for unapproved subscription"},"functionSelector":"5b534051","implemented":false,"kind":"function","modifiers":[],"name":"getSubscription","nameLocation":"13638:15:79","parameters":{"id":66607,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66600,"mutability":"mutable","name":"token","nameLocation":"13680:5:79","nodeType":"VariableDeclaration","scope":66617,"src":"13663:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66599,"nodeType":"UserDefinedTypeName","pathNode":{"id":66598,"name":"ISuperfluidToken","nameLocations":["13663:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"13663:16:79"},"referencedDeclaration":69787,"src":"13663:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66602,"mutability":"mutable","name":"publisher","nameLocation":"13703:9:79","nodeType":"VariableDeclaration","scope":66617,"src":"13695:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66601,"name":"address","nodeType":"ElementaryTypeName","src":"13695:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66604,"mutability":"mutable","name":"indexId","nameLocation":"13729:7:79","nodeType":"VariableDeclaration","scope":66617,"src":"13722:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66603,"name":"uint32","nodeType":"ElementaryTypeName","src":"13722:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66606,"mutability":"mutable","name":"subscriber","nameLocation":"13754:10:79","nodeType":"VariableDeclaration","scope":66617,"src":"13746:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66605,"name":"address","nodeType":"ElementaryTypeName","src":"13746:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"13653:112:79"},"returnParameters":{"id":66616,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66609,"mutability":"mutable","name":"exist","nameLocation":"13866:5:79","nodeType":"VariableDeclaration","scope":66617,"src":"13861:10:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":66608,"name":"bool","nodeType":"ElementaryTypeName","src":"13861:4:79","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":66611,"mutability":"mutable","name":"approved","nameLocation":"13894:8:79","nodeType":"VariableDeclaration","scope":66617,"src":"13889:13:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":66610,"name":"bool","nodeType":"ElementaryTypeName","src":"13889:4:79","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":66613,"mutability":"mutable","name":"units","nameLocation":"13928:5:79","nodeType":"VariableDeclaration","scope":66617,"src":"13920:13:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66612,"name":"uint128","nodeType":"ElementaryTypeName","src":"13920:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66615,"mutability":"mutable","name":"pendingDistribution","nameLocation":"13959:19:79","nodeType":"VariableDeclaration","scope":66617,"src":"13951:27:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":66614,"name":"uint256","nodeType":"ElementaryTypeName","src":"13951:7:79","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"13843:149:79"},"scope":66717,"stateMutability":"view","virtual":true,"visibility":"external"},{"id":66636,"nodeType":"FunctionDefinition","src":"14558:357:79","nodes":[],"documentation":{"id":66618,"nodeType":"StructuredDocumentation","src":"13999:554:79","text":" @notice Get data of a subscription by agreement ID\n @dev indexId (agreementId) is the keccak256 hash of encodePacked(\"publisher\", publisher, indexId)\n @param token Super token address\n @param agreementId The agreement ID\n @return publisher The publisher of the index\n @return indexId Id of the index\n @return approved Is the subscription approved?\n @return units Units of the suscription\n @return pendingDistribution Pending amount of tokens to be distributed for unapproved subscription"},"functionSelector":"cd7245c5","implemented":false,"kind":"function","modifiers":[],"name":"getSubscriptionByID","nameLocation":"14567:19:79","parameters":{"id":66624,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66621,"mutability":"mutable","name":"token","nameLocation":"14613:5:79","nodeType":"VariableDeclaration","scope":66636,"src":"14596:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66620,"nodeType":"UserDefinedTypeName","pathNode":{"id":66619,"name":"ISuperfluidToken","nameLocations":["14596:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"14596:16:79"},"referencedDeclaration":69787,"src":"14596:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66623,"mutability":"mutable","name":"agreementId","nameLocation":"14636:11:79","nodeType":"VariableDeclaration","scope":66636,"src":"14628:19:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"},"typeName":{"id":66622,"name":"bytes32","nodeType":"ElementaryTypeName","src":"14628:7:79","typeDescriptions":{"typeIdentifier":"t_bytes32","typeString":"bytes32"}},"visibility":"internal"}],"src":"14586:62:79"},"returnParameters":{"id":66635,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66626,"mutability":"mutable","name":"publisher","nameLocation":"14752:9:79","nodeType":"VariableDeclaration","scope":66636,"src":"14744:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66625,"name":"address","nodeType":"ElementaryTypeName","src":"14744:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66628,"mutability":"mutable","name":"indexId","nameLocation":"14786:7:79","nodeType":"VariableDeclaration","scope":66636,"src":"14779:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66627,"name":"uint32","nodeType":"ElementaryTypeName","src":"14779:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66630,"mutability":"mutable","name":"approved","nameLocation":"14816:8:79","nodeType":"VariableDeclaration","scope":66636,"src":"14811:13:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"},"typeName":{"id":66629,"name":"bool","nodeType":"ElementaryTypeName","src":"14811:4:79","typeDescriptions":{"typeIdentifier":"t_bool","typeString":"bool"}},"visibility":"internal"},{"constant":false,"id":66632,"mutability":"mutable","name":"units","nameLocation":"14850:5:79","nodeType":"VariableDeclaration","scope":66636,"src":"14842:13:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"},"typeName":{"id":66631,"name":"uint128","nodeType":"ElementaryTypeName","src":"14842:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"visibility":"internal"},{"constant":false,"id":66634,"mutability":"mutable","name":"pendingDistribution","nameLocation":"14881:19:79","nodeType":"VariableDeclaration","scope":66636,"src":"14873:27:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":66633,"name":"uint256","nodeType":"ElementaryTypeName","src":"14873:7:79","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"14726:188:79"},"scope":66717,"stateMutability":"view","virtual":true,"visibility":"external"},{"id":66654,"nodeType":"FunctionDefinition","src":"15231:298:79","nodes":[],"documentation":{"id":66637,"nodeType":"StructuredDocumentation","src":"14921:305:79","text":" @dev List subscriptions of an user\n @param token Super token address\n @param subscriber The subscriber's address\n @return publishers Publishers of the subcriptions\n @return indexIds Indexes of the subscriptions\n @return unitsList Units of the subscriptions"},"functionSelector":"b6dacdb8","implemented":false,"kind":"function","modifiers":[],"name":"listSubscriptions","nameLocation":"15240:17:79","parameters":{"id":66643,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66640,"mutability":"mutable","name":"token","nameLocation":"15284:5:79","nodeType":"VariableDeclaration","scope":66654,"src":"15267:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66639,"nodeType":"UserDefinedTypeName","pathNode":{"id":66638,"name":"ISuperfluidToken","nameLocations":["15267:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"15267:16:79"},"referencedDeclaration":69787,"src":"15267:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66642,"mutability":"mutable","name":"subscriber","nameLocation":"15307:10:79","nodeType":"VariableDeclaration","scope":66654,"src":"15299:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66641,"name":"address","nodeType":"ElementaryTypeName","src":"15299:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"}],"src":"15257:61:79"},"returnParameters":{"id":66653,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66646,"mutability":"mutable","name":"publishers","nameLocation":"15431:10:79","nodeType":"VariableDeclaration","scope":66654,"src":"15414:27:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_memory_ptr","typeString":"address[]"},"typeName":{"baseType":{"id":66644,"name":"address","nodeType":"ElementaryTypeName","src":"15414:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"id":66645,"nodeType":"ArrayTypeName","src":"15414:9:79","typeDescriptions":{"typeIdentifier":"t_array$_t_address_$dyn_storage_ptr","typeString":"address[]"}},"visibility":"internal"},{"constant":false,"id":66649,"mutability":"mutable","name":"indexIds","nameLocation":"15475:8:79","nodeType":"VariableDeclaration","scope":66654,"src":"15459:24:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$dyn_memory_ptr","typeString":"uint32[]"},"typeName":{"baseType":{"id":66647,"name":"uint32","nodeType":"ElementaryTypeName","src":"15459:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"id":66648,"nodeType":"ArrayTypeName","src":"15459:8:79","typeDescriptions":{"typeIdentifier":"t_array$_t_uint32_$dyn_storage_ptr","typeString":"uint32[]"}},"visibility":"internal"},{"constant":false,"id":66652,"mutability":"mutable","name":"unitsList","nameLocation":"15518:9:79","nodeType":"VariableDeclaration","scope":66654,"src":"15501:26:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_array$_t_uint128_$dyn_memory_ptr","typeString":"uint128[]"},"typeName":{"baseType":{"id":66650,"name":"uint128","nodeType":"ElementaryTypeName","src":"15501:7:79","typeDescriptions":{"typeIdentifier":"t_uint128","typeString":"uint128"}},"id":66651,"nodeType":"ArrayTypeName","src":"15501:9:79","typeDescriptions":{"typeIdentifier":"t_array$_t_uint128_$dyn_storage_ptr","typeString":"uint128[]"}},"visibility":"internal"}],"src":"15396:132:79"},"scope":66717,"stateMutability":"view","virtual":true,"visibility":"external"},{"id":66671,"nodeType":"FunctionDefinition","src":"16173:250:79","nodes":[],"documentation":{"id":66655,"nodeType":"StructuredDocumentation","src":"15535:633:79","text":" @dev Delete the subscription of an user\n @param token Super token address\n @param publisher The publisher of the index\n @param indexId Id of the index\n @param subscriber The subscriber's address\n @param ctx Context bytes (see ISuperfluid.sol for Context struct)\n @custom:callbacks \n - if the subscriber called it\n   - AgreementTerminated callback to the publsiher:\n      - agreementId is for the subscription\n - if the publisher called it\n   - AgreementTerminated callback to the subscriber:\n      - agreementId is for the subscription"},"functionSelector":"2e5e74c6","implemented":false,"kind":"function","modifiers":[],"name":"deleteSubscription","nameLocation":"16182:18:79","parameters":{"id":66667,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66658,"mutability":"mutable","name":"token","nameLocation":"16227:5:79","nodeType":"VariableDeclaration","scope":66671,"src":"16210:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66657,"nodeType":"UserDefinedTypeName","pathNode":{"id":66656,"name":"ISuperfluidToken","nameLocations":["16210:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"16210:16:79"},"referencedDeclaration":69787,"src":"16210:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66660,"mutability":"mutable","name":"publisher","nameLocation":"16250:9:79","nodeType":"VariableDeclaration","scope":66671,"src":"16242:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66659,"name":"address","nodeType":"ElementaryTypeName","src":"16242:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66662,"mutability":"mutable","name":"indexId","nameLocation":"16276:7:79","nodeType":"VariableDeclaration","scope":66671,"src":"16269:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66661,"name":"uint32","nodeType":"ElementaryTypeName","src":"16269:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66664,"mutability":"mutable","name":"subscriber","nameLocation":"16301:10:79","nodeType":"VariableDeclaration","scope":66671,"src":"16293:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66663,"name":"address","nodeType":"ElementaryTypeName","src":"16293:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66666,"mutability":"mutable","name":"ctx","nameLocation":"16336:3:79","nodeType":"VariableDeclaration","scope":66671,"src":"16321:18:79","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":66665,"name":"bytes","nodeType":"ElementaryTypeName","src":"16321:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"16200:140:79"},"returnParameters":{"id":66670,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66669,"mutability":"mutable","name":"newCtx","nameLocation":"16415:6:79","nodeType":"VariableDeclaration","scope":66671,"src":"16402:19:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66668,"name":"bytes","nodeType":"ElementaryTypeName","src":"16402:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"16401:21:79"},"scope":66717,"stateMutability":"nonpayable","virtual":true,"visibility":"external"},{"id":66688,"nodeType":"FunctionDefinition","src":"16929:225:79","nodes":[],"documentation":{"id":66672,"nodeType":"StructuredDocumentation","src":"16429:495:79","text":" @dev Claim pending distributions\n @param token Super token address\n @param publisher The publisher of the index\n @param indexId Id of the index\n @param subscriber The subscriber's address\n @param ctx Context bytes (see ISuperfluid.sol for Context struct)\n @custom:note The subscription should not be approved yet\n @custom:callbacks \n - AgreementUpdated callback to the publisher:\n    - agreementId is for the subscription"},"functionSelector":"acafa1b8","implemented":false,"kind":"function","modifiers":[],"name":"claim","nameLocation":"16938:5:79","parameters":{"id":66684,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66675,"mutability":"mutable","name":"token","nameLocation":"16970:5:79","nodeType":"VariableDeclaration","scope":66688,"src":"16953:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66674,"nodeType":"UserDefinedTypeName","pathNode":{"id":66673,"name":"ISuperfluidToken","nameLocations":["16953:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"16953:16:79"},"referencedDeclaration":69787,"src":"16953:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66677,"mutability":"mutable","name":"publisher","nameLocation":"16993:9:79","nodeType":"VariableDeclaration","scope":66688,"src":"16985:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66676,"name":"address","nodeType":"ElementaryTypeName","src":"16985:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66679,"mutability":"mutable","name":"indexId","nameLocation":"17019:7:79","nodeType":"VariableDeclaration","scope":66688,"src":"17012:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66678,"name":"uint32","nodeType":"ElementaryTypeName","src":"17012:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66681,"mutability":"mutable","name":"subscriber","nameLocation":"17044:10:79","nodeType":"VariableDeclaration","scope":66688,"src":"17036:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66680,"name":"address","nodeType":"ElementaryTypeName","src":"17036:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66683,"mutability":"mutable","name":"ctx","nameLocation":"17079:3:79","nodeType":"VariableDeclaration","scope":66688,"src":"17064:18:79","stateVariable":false,"storageLocation":"calldata","typeDescriptions":{"typeIdentifier":"t_bytes_calldata_ptr","typeString":"bytes"},"typeName":{"id":66682,"name":"bytes","nodeType":"ElementaryTypeName","src":"17064:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"16943:140:79"},"returnParameters":{"id":66687,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66686,"mutability":"mutable","name":"newCtx","nameLocation":"17146:6:79","nodeType":"VariableDeclaration","scope":66688,"src":"17133:19:79","stateVariable":false,"storageLocation":"memory","typeDescriptions":{"typeIdentifier":"t_bytes_memory_ptr","typeString":"bytes"},"typeName":{"id":66685,"name":"bytes","nodeType":"ElementaryTypeName","src":"17133:5:79","typeDescriptions":{"typeIdentifier":"t_bytes_storage_ptr","typeString":"bytes"}},"visibility":"internal"}],"src":"17132:21:79"},"scope":66717,"stateMutability":"nonpayable","virtual":true,"visibility":"external"},{"id":66702,"nodeType":"EventDefinition","src":"17458:191:79","nodes":[],"anonymous":false,"documentation":{"id":66689,"nodeType":"StructuredDocumentation","src":"17164:289:79","text":" @dev Index distribution claimed event\n @param token Super token address\n @param publisher Index publisher\n @param indexId The specified indexId\n @param subscriber The subscriber units updated\n @param amount The pending amount claimed"},"eventSelector":"467eccd248ef31c8bcef16d94856855799a8783aeef10f3759e43614059a6bb1","name":"IndexDistributionClaimed","nameLocation":"17464:24:79","parameters":{"id":66701,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66692,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"17523:5:79","nodeType":"VariableDeclaration","scope":66702,"src":"17498:30:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66691,"nodeType":"UserDefinedTypeName","pathNode":{"id":66690,"name":"ISuperfluidToken","nameLocations":["17498:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"17498:16:79"},"referencedDeclaration":69787,"src":"17498:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66694,"indexed":true,"mutability":"mutable","name":"publisher","nameLocation":"17554:9:79","nodeType":"VariableDeclaration","scope":66702,"src":"17538:25:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66693,"name":"address","nodeType":"ElementaryTypeName","src":"17538:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66696,"indexed":true,"mutability":"mutable","name":"indexId","nameLocation":"17588:7:79","nodeType":"VariableDeclaration","scope":66702,"src":"17573:22:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66695,"name":"uint32","nodeType":"ElementaryTypeName","src":"17573:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66698,"indexed":false,"mutability":"mutable","name":"subscriber","nameLocation":"17613:10:79","nodeType":"VariableDeclaration","scope":66702,"src":"17605:18:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66697,"name":"address","nodeType":"ElementaryTypeName","src":"17605:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66700,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"17641:6:79","nodeType":"VariableDeclaration","scope":66702,"src":"17633:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":66699,"name":"uint256","nodeType":"ElementaryTypeName","src":"17633:7:79","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"17488:160:79"}},{"id":66716,"nodeType":"EventDefinition","src":"17960:190:79","nodes":[],"anonymous":false,"documentation":{"id":66703,"nodeType":"StructuredDocumentation","src":"17659:296:79","text":" @dev Subscription distribution claimed event\n @param token Super token address\n @param subscriber The subscriber units updated\n @param publisher Index publisher\n @param indexId The specified indexId\n @param amount The pending amount claimed"},"eventSelector":"48a3d91d4a07e4982b081260e24f922bd33bb965882772d6de19c922c3eabdea","name":"SubscriptionDistributionClaimed","nameLocation":"17966:31:79","parameters":{"id":66715,"nodeType":"ParameterList","parameters":[{"constant":false,"id":66706,"indexed":true,"mutability":"mutable","name":"token","nameLocation":"18032:5:79","nodeType":"VariableDeclaration","scope":66716,"src":"18007:30:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"},"typeName":{"id":66705,"nodeType":"UserDefinedTypeName","pathNode":{"id":66704,"name":"ISuperfluidToken","nameLocations":["18007:16:79"],"nodeType":"IdentifierPath","referencedDeclaration":69787,"src":"18007:16:79"},"referencedDeclaration":69787,"src":"18007:16:79","typeDescriptions":{"typeIdentifier":"t_contract$_ISuperfluidToken_$69787","typeString":"contract ISuperfluidToken"}},"visibility":"internal"},{"constant":false,"id":66708,"indexed":true,"mutability":"mutable","name":"subscriber","nameLocation":"18063:10:79","nodeType":"VariableDeclaration","scope":66716,"src":"18047:26:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66707,"name":"address","nodeType":"ElementaryTypeName","src":"18047:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66710,"indexed":false,"mutability":"mutable","name":"publisher","nameLocation":"18091:9:79","nodeType":"VariableDeclaration","scope":66716,"src":"18083:17:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"},"typeName":{"id":66709,"name":"address","nodeType":"ElementaryTypeName","src":"18083:7:79","stateMutability":"nonpayable","typeDescriptions":{"typeIdentifier":"t_address","typeString":"address"}},"visibility":"internal"},{"constant":false,"id":66712,"indexed":false,"mutability":"mutable","name":"indexId","nameLocation":"18117:7:79","nodeType":"VariableDeclaration","scope":66716,"src":"18110:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"},"typeName":{"id":66711,"name":"uint32","nodeType":"ElementaryTypeName","src":"18110:6:79","typeDescriptions":{"typeIdentifier":"t_uint32","typeString":"uint32"}},"visibility":"internal"},{"constant":false,"id":66714,"indexed":false,"mutability":"mutable","name":"amount","nameLocation":"18142:6:79","nodeType":"VariableDeclaration","scope":66716,"src":"18134:14:79","stateVariable":false,"storageLocation":"default","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"},"typeName":{"id":66713,"name":"uint256","nodeType":"ElementaryTypeName","src":"18134:7:79","typeDescriptions":{"typeIdentifier":"t_uint256","typeString":"uint256"}},"visibility":"internal"}],"src":"17997:152:79"}}],"abstract":true,"baseContracts":[{"baseName":{"id":66319,"name":"ISuperAgreement","nameLocations":["1834:15:79"],"nodeType":"IdentifierPath","referencedDeclaration":67972,"src":"1834:15:79"},"id":66320,"nodeType":"InheritanceSpecifier","src":"1834:15:79"}],"canonicalName":"IInstantDistributionAgreementV1","contractDependencies":[],"contractKind":"contract","documentation":{"id":66318,"nodeType":"StructuredDocumentation","src":"201:1579:79","text":" @title Instant Distribution Agreement interface\n @author Superfluid\n @notice \n   - A publisher can create as many as indices as possibly identifiable with `indexId`.\n     - `indexId` is deliberately limited to 32 bits, to avoid the chance for sha-3 collision.\n       Despite knowing sha-3 collision is only theoretical.\n   - A publisher can create a subscription to an index for any subscriber.\n   - A subscription consists of:\n     - The index it subscribes to.\n     - Number of units subscribed.\n   - An index consists of:\n     - Current value as `uint128 indexValue`.\n     - Total units of the approved subscriptions as `uint128 totalUnitsApproved`.\n     - Total units of the non approved subscription as `uint128 totalUnitsPending`.\n   - A publisher can update an index with a new value that doesn't decrease.\n   - A publisher can update a subscription with any number of units.\n   - A publisher or a subscriber can delete a subscription and reset its units to zero.\n   - A subscriber must approve the index in order to receive distributions from the publisher\n     each time the index is updated.\n     - The amount distributed is $$\\Delta{index} * units$$\n   - Distributions to a non approved subscription stays in the publisher's deposit until:\n     - the subscriber approves the subscription (side effect),\n     - the publisher updates the subscription (side effect),\n     - the subscriber deletes the subscription even if it is never approved (side effect),\n     - or the subscriber can explicitly claim them."},"fullyImplemented":false,"linearizedBaseContracts":[66717,67972],"name":"IInstantDistributionAgreementV1","nameLocation":"1799:31:79","scope":66718,"usedErrors":[66322,66324,66326,66328,66330,66332,66334,66336,66338],"usedEvents":[66375,66446,66490,66504,66533,66547,66580,66596,66702,66716]}],"license":"MIT"},"id":79}